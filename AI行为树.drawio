<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36" version="29.2.4">
  <diagram name="第 1 页" id="_zMOHDMj_IDJZ2Gv6XkA">
    <mxGraphModel dx="1252" dy="649" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="LzOZ260-tQ3Y5i_Tqr5b-1" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="root Node" vertex="1">
          <mxGeometry height="80" width="80" x="40" y="200" as="geometry" />
        </mxCell>
        <mxCell id="LzOZ260-tQ3Y5i_Tqr5b-2" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="nodeList" vertex="1">
          <mxGeometry height="60" width="120" x="30" y="10" as="geometry" />
        </mxCell>
        <mxCell id="LzOZ260-tQ3Y5i_Tqr5b-3" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="60" width="120" x="150" y="10" as="geometry" />
        </mxCell>
        <mxCell id="LzOZ260-tQ3Y5i_Tqr5b-4" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="decoratorList" vertex="1">
          <mxGeometry height="60" width="120" x="30" y="90" as="geometry" />
        </mxCell>
        <mxCell id="LzOZ260-tQ3Y5i_Tqr5b-5" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="60" width="120" x="150" y="90" as="geometry" />
        </mxCell>
        <mxCell id="LzOZ260-tQ3Y5i_Tqr5b-6" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="nodeFactory" vertex="1">
          <mxGeometry height="60" width="120" x="160" y="210" as="geometry" />
        </mxCell>
        <mxCell id="LzOZ260-tQ3Y5i_Tqr5b-7" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="" vertex="1">
          <mxGeometry height="80" width="80" x="470" y="70" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="直接输出目标&lt;br&gt;先不搞行为树" vertex="1">
          <mxGeometry height="60" width="120" x="380" y="540" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="直接读取环境变量，然后更新状态机" vertex="1">
          <mxGeometry height="60" width="120" x="180" y="540" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-3" edge="1" parent="1" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="310" y="570" as="sourcePoint" />
            <mxPoint x="370" y="570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-5" edge="1" parent="1" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="520" y="570" as="sourcePoint" />
            <mxPoint x="600" y="570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-7" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="作用到NPC" vertex="1">
          <mxGeometry height="60" width="120" x="610" y="540" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-8" parent="1" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;" value="环境感知" vertex="1">
          <mxGeometry height="60" width="120" x="10" y="540" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-9" edge="1" parent="1" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="130" y="570" as="sourcePoint" />
            <mxPoint x="180" y="570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-10" parent="1" style="text;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(236, 236, 236); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;&quot;&gt;输出计划&lt;/span&gt;" vertex="1">
          <mxGeometry height="20" width="50" x="310" y="530" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-11" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-7" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.447;entryY=1.02;entryDx=0;entryDy=0;entryPerimeter=0;" target="MOzzzRUpAzljYCfOQZ9g-8" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="560" y="700" />
              <mxPoint x="130" y="660" />
            </Array>
            <mxPoint x="660" y="780" as="sourcePoint" />
            <mxPoint x="710" y="730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-12" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="给AI的goap行为构建行为树，单次goap未完成之前，不会频繁更新" vertex="1">
          <mxGeometry height="60" width="190" x="290" y="450" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-13" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="当处理目标变化过快情况下的决策，如果等待上一次的决策执行结束后，再修改决策会让AI显得很笨。因此通过几个策略，提前修改决策，例如，当目标变化的值超过一定阈值，或者超时更新决策，或者AI收到外部的攻击，更新决策，等等" vertex="1">
          <mxGeometry height="90" width="300" x="240" y="700" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-14" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="AI状态机，&lt;br&gt;直接同步读取状态" vertex="1">
          <mxGeometry height="60" width="120" x="110" y="880" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-15" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="状态切换，&lt;br&gt;输出新状态的行动计划" vertex="1">
          <mxGeometry height="60" width="120" x="290" y="880" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-16" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-14" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="240" y="960" as="sourcePoint" />
            <mxPoint x="290" y="910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-17" edge="1" parent="1" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="410" y="909.76" as="sourcePoint" />
            <mxPoint x="470" y="909.76" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-18" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="业务侧根据行动计划写业务，解耦合" vertex="1">
          <mxGeometry height="60" width="120" x="470" y="880" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-19" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="240" width="455" x="125" y="1280" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-20" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="225" width="210" x="125" y="1280" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-21" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="OnUpdate&lt;br&gt;状态自动转换的回调" vertex="1">
          <mxGeometry height="60" width="120" x="125" y="1425" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-37" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="Onleave&lt;div&gt;离开这个状态的回调&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="120" x="125" y="1305" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-38" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="OnEnter&lt;br&gt;进入这个状态的回调" vertex="1">
          <mxGeometry height="60" width="120" x="125" y="1365" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-43" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="状态类" vertex="1">
          <mxGeometry height="80" width="80" x="255" y="1352.5" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-45" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="状态机" vertex="1">
          <mxGeometry height="80" width="80" x="500" y="1280" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-46" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="每种状态都存储了自身可以转换的其他状态，&lt;br&gt;约束有限的状态转换" vertex="1">
          <mxGeometry height="30" width="260" x="140" y="1540" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-47" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-20" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;" target="MOzzzRUpAzljYCfOQZ9g-46" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="400" y="1460" />
              <mxPoint x="400" y="1510" />
            </Array>
            <mxPoint x="400" y="1560" as="sourcePoint" />
            <mxPoint x="450" y="1510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-48" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="起始state" vertex="1">
          <mxGeometry height="80" width="80" x="10" y="1870" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-49" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="目标state" vertex="1">
          <mxGeometry height="80" width="80" x="710" y="1870" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-50" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="GOAP" vertex="1">
          <mxGeometry height="30" width="60" x="370" y="1724" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-51" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="action1" vertex="1">
          <mxGeometry height="60" width="120" x="150" y="1980" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-58" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="action2" vertex="1">
          <mxGeometry height="60" width="120" x="150" y="1880" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-59" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="action3" vertex="1">
          <mxGeometry height="60" width="120" x="150" y="1784" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-61" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="action1" vertex="1">
          <mxGeometry height="60" width="120" x="330" y="1980" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-62" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="action2" vertex="1">
          <mxGeometry height="60" width="120" x="330" y="1880" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-63" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="action3" vertex="1">
          <mxGeometry height="60" width="120" x="330" y="1784" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-64" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="action1" vertex="1">
          <mxGeometry height="60" width="120" x="510" y="1980" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-65" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="action2" vertex="1">
          <mxGeometry height="60" width="120" x="510" y="1880" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-66" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="action3" vertex="1">
          <mxGeometry height="60" width="120" x="510" y="1784" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-67" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-48" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=1;exitDx=0;exitDy=0;" target="MOzzzRUpAzljYCfOQZ9g-51" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="50" y="2050" as="sourcePoint" />
            <mxPoint x="100" y="2000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-68" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-51" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="MOzzzRUpAzljYCfOQZ9g-62" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="100" y="2010" as="sourcePoint" />
            <mxPoint x="172" y="2082" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-69" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-62" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="MOzzzRUpAzljYCfOQZ9g-66" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="340" y="1960" as="sourcePoint" />
            <mxPoint x="412" y="2032" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-70" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-66" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="MOzzzRUpAzljYCfOQZ9g-49" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="480" y="1956" as="sourcePoint" />
            <mxPoint x="540" y="1860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-71" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="起始state" vertex="1">
          <mxGeometry height="80" width="80" y="2180" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-72" edge="1" parent="1" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="90" y="2220" as="sourcePoint" />
            <mxPoint x="140" y="2220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-73" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="从行动池中选择符合条件的行动：&lt;br&gt;当前state满足行动的前置条件。&lt;div&gt;&lt;br/&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="240" width="120" x="150" y="2090" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-76" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-75" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-74" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="action" vertex="1">
          <mxGeometry height="60" width="120" x="370" y="2460" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-75" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="effects" vertex="1">
          <mxGeometry height="60" width="120" x="530" y="2460" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-78" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-74" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-77" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="preconditions" vertex="1">
          <mxGeometry height="60" width="120" x="210" y="2460" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-79" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="state" vertex="1">
          <mxGeometry height="80" width="80" x="170" y="2620" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-80" edge="1" parent="1" style="endArrow=classic;startArrow=classic;html=1;rounded=0;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="270" y="2610" as="sourcePoint" />
            <mxPoint x="270" y="2540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-81" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="状态内部维护了一组键值对" vertex="1">
          <mxGeometry height="60" width="120" x="250" y="2630" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-82" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="当state的状态键值对满足某个action的preconditions，那么当前state才能使用这个action" vertex="1">
          <mxGeometry height="50" width="265" x="275" y="2550" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-83" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="state" vertex="1">
          <mxGeometry height="80" width="80" x="500" y="2310" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-84" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="状态内部维护了一组键值对" vertex="1">
          <mxGeometry height="60" width="120" x="580" y="2320" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-85" edge="1" parent="1" style="endArrow=classic;html=1;rounded=0;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="600" y="2450" as="sourcePoint" />
            <mxPoint x="620" y="2390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-86" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="action执行后，更新state中的状态键值对。" vertex="1">
          <mxGeometry height="30" width="150" x="620" y="2410" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-87" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="pre_state_condition" vertex="1">
          <mxGeometry height="120" width="120" x="255" y="2970" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-88" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="action_to_cur_node" vertex="1">
          <mxGeometry height="60" width="120" x="375" y="2970" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-89" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="effect_state" vertex="1">
          <mxGeometry height="120" width="120" x="495" y="2970" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-90" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="cur_state" vertex="1">
          <mxGeometry height="60" width="120" x="375" y="3030" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-91" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" value="" vertex="1">
          <mxGeometry height="170" width="380" x="245" y="2930" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-92" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="node" vertex="1">
          <mxGeometry height="30" width="60" x="410" y="2930" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-93" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="能够到达当前节点的行动" vertex="1">
          <mxGeometry height="60" width="120" x="50" y="2985" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-96" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-95" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-94" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="current node" vertex="1">
          <mxGeometry height="60" width="120" x="160" y="3140" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-98" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-97" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-95" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="potential_action" vertex="1">
          <mxGeometry height="60" width="120" x="360" y="3140" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-97" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="outcome node" vertex="1">
          <mxGeometry height="60" width="120" x="560" y="3140" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-99" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="180" width="310" x="275" y="3440" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-100" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="g_：之前的代价&lt;div&gt;h_：之后的代价&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="120" x="370" y="3440" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-101" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="前置节点的状态条件" vertex="1">
          <mxGeometry height="60" width="120" x="275" y="3500" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-102" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="后置节点的状态可能" vertex="1">
          <mxGeometry height="60" width="120" x="465" y="3500" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-103" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="action：从前一个节点到达当前节点的代价" vertex="1">
          <mxGeometry height="60" width="120" x="310" y="3560" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-104" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="60" width="120" x="30" y="3390" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-105" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="60" width="120" x="30" y="3500" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-106" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="60" width="120" x="30" y="3610" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-107" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="60" width="120" x="680" y="3390" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-108" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="60" width="120" x="680" y="3500" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-109" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="60" width="120" x="680" y="3610" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-110" edge="1" parent="1" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="175" y="3529.41" as="sourcePoint" />
            <mxPoint x="245" y="3529.41" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-111" edge="1" parent="1" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="600" y="3529.41" as="sourcePoint" />
            <mxPoint x="670" y="3529.41" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-112" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="state：当前节点的状态" vertex="1">
          <mxGeometry height="60" width="120" x="430" y="3560" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-113" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="状态是节点的唯一标识，唯一的状态对应了唯一的节点" vertex="1">
          <mxGeometry height="30" width="350" x="260" y="3640" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-114" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="Node Interface" vertex="1">
          <mxGeometry height="50" width="60" x="950" y="70" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-130" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="Node Interface" vertex="1">
          <mxGeometry height="50" width="60" x="1010" y="70" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-131" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="Node Interface" vertex="1">
          <mxGeometry height="50" width="60" x="1070" y="70" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-132" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="Node Interface" vertex="1">
          <mxGeometry height="50" width="60" x="1130" y="70" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-133" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="Node Interface" vertex="1">
          <mxGeometry height="50" width="60" x="1190" y="70" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-134" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="Node Interface" vertex="1">
          <mxGeometry height="50" width="60" x="1250" y="70" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-135" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="Node Interface" vertex="1">
          <mxGeometry height="50" width="60" x="1310" y="70" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-136" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="Node Interface" vertex="1">
          <mxGeometry height="50" width="60" x="1370" y="70" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-137" edge="1" parent="1" style="endArrow=classic;html=1;rounded=0;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="1000" y="10" as="sourcePoint" />
            <mxPoint x="1000" y="60" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-138" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="index" vertex="1">
          <mxGeometry height="30" width="60" x="990" y="25" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-145" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-139" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="MOzzzRUpAzljYCfOQZ9g-140">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-146" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-139" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="MOzzzRUpAzljYCfOQZ9g-141">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-147" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-139" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="MOzzzRUpAzljYCfOQZ9g-142">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-139" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="1" vertex="1">
          <mxGeometry height="80" width="80" x="1140" y="340" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-140" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="2" vertex="1">
          <mxGeometry height="80" width="80" x="970" y="520" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-148" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-141" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-144">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-149" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-141" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="MOzzzRUpAzljYCfOQZ9g-143">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1180" y="650" />
              <mxPoint x="1240" y="650" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-141" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="3" vertex="1">
          <mxGeometry height="80" width="80" x="1140" y="520" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-142" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="4" vertex="1">
          <mxGeometry height="80" width="80" x="1310" y="520" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-143" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="6" vertex="1">
          <mxGeometry height="80" width="80" x="1200" y="700" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-144" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="5" vertex="1">
          <mxGeometry height="80" width="80" x="1080" y="700" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-152" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-150" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-151" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-150" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="update_dungron_scene" vertex="1">
          <mxGeometry height="37.5" width="140" x="1570" y="1132" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-154" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-151" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-153" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-151" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="update" vertex="1">
          <mxGeometry height="37.5" width="140" x="1570" y="1210" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-159" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-153" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-158" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-153" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="run" vertex="1">
          <mxGeometry height="37.5" width="140" x="1570" y="1292.5" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-162" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-157" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-161" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-157" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="refresh_monster" vertex="1">
          <mxGeometry height="60" width="120" x="1580" y="1470" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-160" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-158" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-157" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-158" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="tick_enemy_refresh" vertex="1">
          <mxGeometry height="60" width="120" x="1580" y="1372.5" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-161" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="create_entity_for_spawn_info" vertex="1">
          <mxGeometry height="60" width="120" x="1580" y="1570" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-163" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="NPC刷新" vertex="1">
          <mxGeometry height="30" width="60" x="1610" y="1100" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-166" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-164" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-165" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-164" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="tick_bt_ai_system" vertex="1">
          <mxGeometry height="40" width="130" x="1860" y="1130" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-165" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="game_tick" vertex="1">
          <mxGeometry height="40" width="130" x="1860" y="1210" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-168" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="NodeType::LeafNode&lt;br&gt;也就是动作节点" vertex="1">
          <mxGeometry height="60" width="120" x="1760" y="2370" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-169" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="NodeType::DecoratorNode&lt;br&gt;也就是装饰节点" vertex="1">
          <mxGeometry height="60" width="150" x="1918" y="2370" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-170" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="NodeType::ControlNode&lt;br&gt;也就是控制节点" vertex="1">
          <mxGeometry height="60" width="150" x="2100" y="2370" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-171" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="黑板存取共享的临时数据" vertex="1">
          <mxGeometry height="60" width="120" x="1933" y="2218" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-172" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="npc_entity 存取持久数据" vertex="1">
          <mxGeometry height="60" width="120" x="1933" y="2278" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-173" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="&lt;div&gt;pub trait TreeNode: TreeNodeStatus {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // 关联类型定义&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; type TickAction: TreeNode;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; type BlackBoardValue;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; type TickEvent;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; type TickFunc: ?Sized;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; type World;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; type Entity;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // 核心方法&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; fn control_tick(...) -&amp;gt; (Status, f64);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; fn action_tick(...) -&amp;gt; Status;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; fn reset(...);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; fn node_idx() -&amp;gt; i32;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; fn node_name() -&amp;gt; &amp;amp;&#39;static str;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; fn node_type() -&amp;gt; NodeType;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; fn children(...) -&amp;gt; Vec&amp;lt;&amp;amp;Box&amp;lt;dyn TreeNode&amp;lt;...&amp;gt;&amp;gt;&amp;gt;;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; fn visualize(...) -&amp;gt; std::fmt::Result;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="290" width="320" x="1760" y="2520" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-180" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-174" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="MOzzzRUpAzljYCfOQZ9g-176">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-181" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-174" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-177">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-174" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="NPC1" vertex="1">
          <mxGeometry height="80" width="80" x="2370" y="2530" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-182" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-175" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="MOzzzRUpAzljYCfOQZ9g-178">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-183" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-175" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="MOzzzRUpAzljYCfOQZ9g-179">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-175" parent="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" value="NPC2" vertex="1">
          <mxGeometry height="80" width="80" x="2560" y="2530" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-176" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="行为树1" vertex="1">
          <mxGeometry height="60" width="120" x="2220" y="2730" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-177" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="行为树2" vertex="1">
          <mxGeometry height="60" width="120" x="2410" y="2730" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-178" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="行为树3" vertex="1">
          <mxGeometry height="60" width="120" x="2610" y="2730" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-179" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="行为树4" vertex="1">
          <mxGeometry height="60" width="120" x="2770" y="2730" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-184" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="一个行为树实例只归属于一个npc实例，一个npc实例可以有多个行为树实例" vertex="1">
          <mxGeometry height="30" width="410" x="2320" y="2490" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-191" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-185" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-186" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-185" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="配置管理&lt;div&gt;json&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="120" x="1870" y="2960" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-188" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-186" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-187" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-186" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="config.toml 配置文件&lt;br&gt;标记行为树配置路径" vertex="1">
          <mxGeometry height="60" width="120" x="1870" y="3060" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-190" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-187" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-189" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-187" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="行为树初始化读取配置" vertex="1">
          <mxGeometry height="60" width="120" x="1870" y="3150" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-189" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="使用行为树序列化器" vertex="1">
          <mxGeometry height="60" width="120" x="1870" y="3240" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-194" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-192" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-193" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-192" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="初始化" vertex="1">
          <mxGeometry height="60" width="120" x="2090" y="2960" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-196" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-193" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-195" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-193" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="读取内存的行为树配置" vertex="1">
          <mxGeometry height="60" width="120" x="2090" y="3100" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-195" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="前序DFS递归构造行为树实例" vertex="1">
          <mxGeometry height="60" width="120" x="2090" y="3240" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-199" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-197" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-198" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-197" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="前序DFS构造" vertex="1">
          <mxGeometry height="60" width="120" x="2350" y="2960" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-198" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="递归函数：{&lt;div&gt;先创建当前节点；&lt;/div&gt;&lt;div&gt;再遍历当前节点的子节点进行&quot;递归&quot;；&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;}&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="135" width="270" x="2275" y="3072.5" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-203" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-200" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-202" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-206" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-200" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-205" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-200" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="输入是什么" vertex="1">
          <mxGeometry height="60" width="120" x="2790" y="2985" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-201" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="输出是什么" vertex="1">
          <mxGeometry height="60" width="120" x="3170" y="2985" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-202" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="行为树节点配置" vertex="1">
          <mxGeometry height="60" width="120" x="2660" y="3080" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-205" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="黑板配置" vertex="1">
          <mxGeometry height="60" width="120" x="2940" y="3070" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-207" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="instantiate_tree(idx, tree_name, bb_map, ref_map)&lt;br&gt;初始化行为树实例" vertex="1">
          <mxGeometry height="60" width="280" x="1800" y="3440" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-210" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-208" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-209" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-208" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="配置读取问题" vertex="1">
          <mxGeometry height="60" width="120" x="1690" y="2960" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-209" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="热加载问题" vertex="1">
          <mxGeometry height="60" width="120" x="1690" y="3100" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-211" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="to_tree_state" vertex="1">
          <mxGeometry height="60" width="120" x="1780" y="4180" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-213" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-212" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-211" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-212" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="to_context" vertex="1">
          <mxGeometry height="60" width="120" x="1780" y="4080" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-215" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-214" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-212" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-214" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="instantiate_tree" vertex="1">
          <mxGeometry height="60" width="120" x="1780" y="3970" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-217" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-216" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-214" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-216" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="get_bt_instance" vertex="1">
          <mxGeometry height="60" width="120" x="1780" y="3870" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-219" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-218" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-216" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-218" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="get_bt_instance" vertex="1">
          <mxGeometry height="60" width="120" x="1780" y="3770" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-221" edge="1" parent="1" source="MOzzzRUpAzljYCfOQZ9g-220" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="MOzzzRUpAzljYCfOQZ9g-218" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MOzzzRUpAzljYCfOQZ9g-220" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="&lt;div&gt;BehaviorTreeComp&lt;/div&gt;new" vertex="1">
          <mxGeometry height="60" width="120" x="1780" y="3670" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
