<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36" version="28.2.5">
  <diagram name="第 1 页" id="6L0QKgz08H0uk4aZn0Ru">
    <mxGraphModel dx="4273" dy="2278" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-1" value="应用层" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="10" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-3" value="传输层" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="40" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-4" value="网络层" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="70" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-5" value="链路层" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="100" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-6" value="endpoint可以理解为网络拓扑中的可寻址单元" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="360" y="10" width="260" height="50" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-7" value="endpoint端点&lt;div&gt;拥有独立网络标识、独立通信能力、独立协议栈的抽象或者具体的实例：&lt;/div&gt;&lt;div&gt;例如：物理机、虚拟机、容器甚至一些特殊的进程&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="290" y="80" width="420" height="50" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-9" value="endpoint之间的通信要明确：上述四层的协议" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="20" y="180" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-10" value="同个endpoint内部的进程间通信：也要明确上述四层的协议" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="20" y="200" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-11" value="梳理几个分布式服务的网络拓扑 和协议，是否具有共性" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="30" y="270" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-12" value="游戏私服架构" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-13" value="游戏正式服架构" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="190" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-14" value="tbuspp2架构" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="340" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-15" value="k8s架构" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="490" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-17" value="endpoint通信各层协议&lt;div&gt;进程间通信&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="420" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-18" value="randomid&lt;div&gt;随机方案id&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="110" y="735" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-20" value="count1" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="270" y="680" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-21" value="rate1" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="407" y="680" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-22" value="sum_rate1" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="551.5" y="680" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-23" value="对于每个randomid" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="130" y="670" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-24" value="分布次数&lt;div&gt;即抽多少次进入下一个档次&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="280" y="640" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-25" value="某个次数的权重" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="414" y="640" width="86" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-26" value="累积权重，用于随机算法" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="530" y="640" width="143" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-27" value="count2" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="270" y="730" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-28" value="rate2" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="407" y="730" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-29" value="sum_rate2" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="551.5" y="730" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-30" value="countn" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="270" y="820" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-31" value="raten" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="407" y="820" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-32" value="sum_raten" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="551.5" y="820" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-34" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="390" y="810" as="sourcePoint" />
            <mxPoint x="390" y="770" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-36" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="160" y="920" as="sourcePoint" />
            <mxPoint x="160" y="780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-37" value="randomid&lt;div&gt;随机方案id&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="110" y="950" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-38" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="320" y="960" as="sourcePoint" />
            <mxPoint x="580" y="960" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-39" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;" parent="1" vertex="1">
          <mxGeometry x="210" y="700" width="50" height="130" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-40" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;" parent="1" vertex="1">
          <mxGeometry x="210" y="920" width="50" height="100" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-41" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;rotation=90;" parent="1" vertex="1">
          <mxGeometry x="359.99" y="389.13" width="50" height="450" as="geometry" />
        </mxCell>
        <mxCell id="KU0j-aZhRdwBa8eBkRVH-42" value="draw_random_plan_map_" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="301.99" y="550" width="166" height="40" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-1" target="3fNOpoJ3Ih4Q9q4e5zWk-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-1" target="3fNOpoJ3Ih4Q9q4e5zWk-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-1" target="3fNOpoJ3Ih4Q9q4e5zWk-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1164" y="310" />
              <mxPoint x="1164" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-1" target="3fNOpoJ3Ih4Q9q4e5zWk-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-1" value="&lt;div&gt;模块中非初始化部分抽象为子模块&lt;/div&gt;SUBMOD" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1129" y="220" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-2" value="&lt;div&gt;逻辑初始化&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="940" y="380" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-4" value="数据初始化" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1019" y="380" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-6" value="数据析构" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1109" y="380" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-8" value="每日刷新" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1271" y="380" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.559;entryY=-0.095;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-1" target="3fNOpoJ3Ih4Q9q4e5zWk-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-11" value="其他" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1410" y="380" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-13" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="899" y="180" width="631" height="280" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-18" target="3fNOpoJ3Ih4Q9q4e5zWk-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-18" target="3fNOpoJ3Ih4Q9q4e5zWk-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-18" target="3fNOpoJ3Ih4Q9q4e5zWk-21" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1184" y="594.13" />
              <mxPoint x="1184" y="594.13" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-18" target="3fNOpoJ3Ih4Q9q4e5zWk-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-18" value="&lt;div&gt;模块中非初始化部分抽象为子模块&lt;/div&gt;SUBMOD" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1149" y="504.13" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-19" value="&lt;div&gt;逻辑初始化&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="960" y="664.13" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-20" value="数据初始化" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1039" y="664.13" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-21" value="数据析构" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1129" y="664.13" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-22" value="每日刷新" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1291" y="664.13" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.559;entryY=-0.095;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-18" target="3fNOpoJ3Ih4Q9q4e5zWk-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-24" value="其他" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1430" y="664.13" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-25" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="899" y="474.13" width="631" height="280" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-30" target="3fNOpoJ3Ih4Q9q4e5zWk-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-30" target="3fNOpoJ3Ih4Q9q4e5zWk-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-30" target="3fNOpoJ3Ih4Q9q4e5zWk-33" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1164" y="920" />
              <mxPoint x="1164" y="920" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-30" target="3fNOpoJ3Ih4Q9q4e5zWk-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-30" value="&lt;div&gt;模块中非初始化部分抽象为子模块&lt;/div&gt;SUBMOD" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1129" y="830" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-31" value="&lt;div&gt;逻辑初始化&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="940" y="990" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-32" value="数据初始化" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1019" y="990" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-33" value="数据析构" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1109" y="990" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-34" value="每日刷新" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1271" y="990" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.559;entryY=-0.095;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-30" target="3fNOpoJ3Ih4Q9q4e5zWk-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-36" value="其他" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1410" y="990" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-37" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="899" y="790" width="631" height="280" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-38" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="850" y="150" width="970" height="930" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-43" target="3fNOpoJ3Ih4Q9q4e5zWk-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-39" value="初始化" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1970" y="265" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-40" value="释放" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1970" y="550" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-39" target="3fNOpoJ3Ih4Q9q4e5zWk-43" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2030" y="325" as="sourcePoint" />
            <mxPoint x="2030" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-43" value="驱动" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2000" y="405" width="60" height="55" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-44" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;" parent="1" vertex="1">
          <mxGeometry x="2050" y="382.5" width="50" height="100" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-45" value="定时驱动" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2100" y="369" width="60" height="31" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-46" value="不定时驱动" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2090" y="470" width="80" height="31" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-47" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1870" y="230" width="320" height="410" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-48" value="万物的架构" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1860" y="140" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-50" value="初始化的时机；&lt;div&gt;初始化的位置&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1870" y="170" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-51" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1860" y="150" width="340" height="520" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-52" value="单体的架构" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1870" y="230" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-53" target="3fNOpoJ3Ih4Q9q4e5zWk-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-53" target="3fNOpoJ3Ih4Q9q4e5zWk-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-53" target="3fNOpoJ3Ih4Q9q4e5zWk-56" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-53" target="3fNOpoJ3Ih4Q9q4e5zWk-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-53" target="3fNOpoJ3Ih4Q9q4e5zWk-66" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-53" target="3fNOpoJ3Ih4Q9q4e5zWk-65" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-53" target="3fNOpoJ3Ih4Q9q4e5zWk-61" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-85" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-53" target="3fNOpoJ3Ih4Q9q4e5zWk-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-53" value="ACTOR进程" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2288.5" y="542.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-54" value="登录模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2468.5" y="342.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-55" value="DB缓存管理模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2468.5" y="437.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-56" target="3fNOpoJ3Ih4Q9q4e5zWk-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-56" target="3fNOpoJ3Ih4Q9q4e5zWk-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-56" target="3fNOpoJ3Ih4Q9q4e5zWk-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-56" target="3fNOpoJ3Ih4Q9q4e5zWk-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-56" target="3fNOpoJ3Ih4Q9q4e5zWk-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3fNOpoJ3Ih4Q9q4e5zWk-56" target="3fNOpoJ3Ih4Q9q4e5zWk-82" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-56" value="ACTOR玩家模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2628.5" y="542.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-57" value="联盟模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2468.5" y="652.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-58" value="技能模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2908.5" y="332.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-59" value="英雄模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2908.5" y="417.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-60" value="兵种皮肤模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2908.5" y="507.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-61" value="条件模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2468.5" y="742.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-62" value="属性模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2468.5" y="822.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-63" value="活动内容模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2908.5" y="687.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-64" value="巨作模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2908.5" y="602.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-65" value="其他模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2468.5" y="1012.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-66" value="活动日历模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2468.5" y="922.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-81" value="如果一个模块实例，只能管理单独一个玩家的数据，那就是属于玩家模块。&lt;div&gt;而如果一个模块，可以管理所有玩家的数据，那就是属于进程的&lt;/div&gt;&lt;div&gt;分辨模块归属，可以从模块的生命周期去分析，如果A归属于B，那么A的生命周期必然小于等于B的生命周期&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2488.5" y="117.25" width="380" height="155.5" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-82" value="任务模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2908.5" y="777.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-87" value="通过IG6Component组件管理" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2468.5" y="1192.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-88" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2528.08" y="1182.75" as="sourcePoint" />
            <mxPoint x="2528.08" y="1092.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-89" value="通过gs_actor_submods管理" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2848.5" y="1192.75" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-90" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2928.5" y="1182.75" as="sourcePoint" />
            <mxPoint x="2928.5" y="1082.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-91" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3148.5" y="356.88" as="sourcePoint" />
            <mxPoint x="3148.5" y="616.88" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3fNOpoJ3Ih4Q9q4e5zWk-92" value="玩家上线，&lt;div&gt;玩家协议，&lt;/div&gt;&lt;div&gt;定时器，&lt;/div&gt;&lt;div&gt;驱动&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="3158.5" y="402.75" width="70" height="180" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-2" target="zZPF3GBV6QvH8n7jYyrb-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-2" target="zZPF3GBV6QvH8n7jYyrb-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-2" target="zZPF3GBV6QvH8n7jYyrb-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-2" value="驱动方式" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="480" y="1531" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-3" target="zZPF3GBV6QvH8n7jYyrb-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-3" target="zZPF3GBV6QvH8n7jYyrb-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-3" target="zZPF3GBV6QvH8n7jYyrb-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-3" value="主循环轮询" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="480" y="1671" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-5" target="zZPF3GBV6QvH8n7jYyrb-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-5" target="zZPF3GBV6QvH8n7jYyrb-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-5" target="zZPF3GBV6QvH8n7jYyrb-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-5" value="进程初始化" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="260" y="1671" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-31" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-7" target="zZPF3GBV6QvH8n7jYyrb-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-7" value="进程结束" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="680" y="1671" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-11" target="zZPF3GBV6QvH8n7jYyrb-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-11" value="公共数据模块component&lt;div&gt;初始化&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="70" y="1771" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-12" target="zZPF3GBV6QvH8n7jYyrb-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-12" value="初始化&lt;br&gt;读取配置，load DB" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="70" y="1901" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-14" value="注册各种回调" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="70" y="2021" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-17" target="zZPF3GBV6QvH8n7jYyrb-20" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="290" y="1861" />
              <mxPoint x="380" y="1861" />
              <mxPoint x="380" y="1991" />
              <mxPoint x="290" y="1991" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-17" value="玩家数据模块初始化" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="230" y="1771" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-19" value="&lt;font style=&quot;color: rgb(204, 0, 0);&quot;&gt;玩家模块数据在玩家登录时通过回调加载&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="230" y="1901" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-20" value="注册各种回调" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="230" y="2021" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-22" target="zZPF3GBV6QvH8n7jYyrb-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-22" value="通用协议" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="414" y="1771" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-25" target="zZPF3GBV6QvH8n7jYyrb-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-25" value="定时器" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="541.5" y="1771" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-27" value="协议回调、超时回调" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="480" y="2021" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-30" value="数据落地与清理" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="680" y="1771" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-34" value="业务架构" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="170" y="1601" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-37" target="zZPF3GBV6QvH8n7jYyrb-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-37" target="zZPF3GBV6QvH8n7jYyrb-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-37" value="NSDB_ACTOR数据" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="403" y="2204" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-38" value="ACTOR进程使用的数据" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="50" y="2534" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-39" value="WORLD进程使用的数据" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="350" y="2534" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-41" target="zZPF3GBV6QvH8n7jYyrb-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-41" value="ACTOR和WORLD都要使用的数据" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="190" y="2614" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-42" value="主服务器向从服务器同步" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="190" y="2724" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-45" target="zZPF3GBV6QvH8n7jYyrb-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-45" target="zZPF3GBV6QvH8n7jYyrb-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-45" value="从使用的角度分" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="190" y="2384" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.433;entryY=0.039;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-45" target="zZPF3GBV6QvH8n7jYyrb-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-47" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-50" target="zZPF3GBV6QvH8n7jYyrb-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-48" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-50" target="zZPF3GBV6QvH8n7jYyrb-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-50" target="zZPF3GBV6QvH8n7jYyrb-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-50" value="从数据的分类来看" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="640" y="2549" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-51" value="comm_data&lt;br&gt;多个模块都会使用" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="510" y="2679" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-52" value="brief_data&lt;br&gt;可能会高频使用公共数据缓存" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="640" y="2679" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-53" value="xxx_data&lt;br&gt;按模块分类的数据" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="770" y="2679" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-55" target="zZPF3GBV6QvH8n7jYyrb-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-55" value="ACTOR运行时存在堆上，不存共享内存" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="940" y="2289" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-56" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-57" target="zZPF3GBV6QvH8n7jYyrb-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-57" value="NSDB_ACTOR&lt;br&gt;存储的是ACTOR的序列化数据，在共享内存" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="940" y="2539" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-58" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-59" target="zZPF3GBV6QvH8n7jYyrb-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-59" value="当堆上找不到ACTOR时，前往共享内存查找NSDB_ACTOR缓存" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="940" y="2419" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-60" value="反序列化给运行时的ACTOR" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="940" y="2679" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-61" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-62" target="zZPF3GBV6QvH8n7jYyrb-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-62" value="程序启动" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1360" y="1584" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-64" target="zZPF3GBV6QvH8n7jYyrb-66" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-64" value="全局/静态对象构造函数执行" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1340" y="1684" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-65" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-66" target="zZPF3GBV6QvH8n7jYyrb-68" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-66" value="__attribute__((constructor))&lt;div&gt;void func_name(void)&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1330" y="1774" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-67" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-68" target="zZPF3GBV6QvH8n7jYyrb-70" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-68" value="main函数入口" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1360" y="1874" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-69" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-70" target="zZPF3GBV6QvH8n7jYyrb-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-70" value="main函数结束" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1360" y="1974" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-71" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-72" target="zZPF3GBV6QvH8n7jYyrb-74" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-72" value="atexit注册的函数执行" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1360" y="2074" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-73" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-74" target="zZPF3GBV6QvH8n7jYyrb-76" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-74" value="__attribute__((destructor))&lt;div&gt;void func_name(void)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1340" y="2174" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-75" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-76" target="zZPF3GBV6QvH8n7jYyrb-77" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-76" value="全局/静态对象析构函数执行" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1340" y="2284" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-77" value="程序结束" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1340" y="2384" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-78" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1330" y="1860" width="180" height="190" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-79" value="区别在于，构造函数&lt;font style=&quot;color: rgb(204, 0, 0);&quot;&gt;可以有参数&lt;/font&gt;，但是__attribute__((constructor))修饰的函数&lt;font style=&quot;color: rgb(204, 0, 0);&quot;&gt;没有参数&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1550" y="1684" width="210" height="151" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-80" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1510" y="1759.21" as="sourcePoint" />
            <mxPoint x="1550" y="1759.21" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-83" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-81" target="zZPF3GBV6QvH8n7jYyrb-82" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-85" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-81" target="zZPF3GBV6QvH8n7jYyrb-84" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-81" target="zZPF3GBV6QvH8n7jYyrb-86" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-90" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-81" target="zZPF3GBV6QvH8n7jYyrb-88" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-91" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-81" target="zZPF3GBV6QvH8n7jYyrb-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-81" value="进程行为驱动" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2520" y="1591" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-93" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-82" target="zZPF3GBV6QvH8n7jYyrb-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-95" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-82" target="zZPF3GBV6QvH8n7jYyrb-94" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-82" value="起服" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2240" y="1731" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-84" value="停服" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2410" y="1731" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-86" value="resume起服" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2560" y="1731" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-88" value="资源reload" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2720" y="1729.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-89" value="(热更）信号接收" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2870" y="1729.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-97" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-92" target="zZPF3GBV6QvH8n7jYyrb-96" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-92" value="公共模块运行时，建立在共享内存中" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2160" y="1925" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-94" value="玩家模块使用代理模式引用ACTOR各个部分的数据" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2320" y="1925" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-99" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-96" target="zZPF3GBV6QvH8n7jYyrb-98" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-105" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-96" target="zZPF3GBV6QvH8n7jYyrb-104" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-96" value="加载与落地DB的逻辑" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2000" y="1925" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-101" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-98" target="zZPF3GBV6QvH8n7jYyrb-100" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-98" value="起服即加载DB" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1895" y="2039" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-103" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-100" target="zZPF3GBV6QvH8n7jYyrb-102" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-100" value="例如活动模块：&lt;div&gt;biz_activity_calendar_data_init&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1870" y="2139" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-102" value="reg_serial_db_load" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1897.5" y="2229" width="115" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-107" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-104" target="zZPF3GBV6QvH8n7jYyrb-106" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-104" value="落地DB" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2060" y="2039" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-109" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-106" target="zZPF3GBV6QvH8n7jYyrb-108" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-106" value="数据变化脏标记" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2060" y="2139" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-111" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-108" target="zZPF3GBV6QvH8n7jYyrb-110" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-108" value="关键数据立即落地" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2060" y="2229" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-113" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-110" target="zZPF3GBV6QvH8n7jYyrb-112" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-110" value="普通数据延迟落地" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2060" y="2321" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-112" value="CheckAndSaveSteps" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2060" y="2419" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-116" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-114" target="zZPF3GBV6QvH8n7jYyrb-115" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-118" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-114" target="zZPF3GBV6QvH8n7jYyrb-117" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-114" value="模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2800" y="2050" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-120" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-115" target="zZPF3GBV6QvH8n7jYyrb-119" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-115" value="玩家模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2680" y="2151" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-126" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-117" target="zZPF3GBV6QvH8n7jYyrb-125" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-117" value="公共模块" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2910" y="2151" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-122" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-119" target="zZPF3GBV6QvH8n7jYyrb-121" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-119" value="各个业务模块使用代理模式维护玩家模块数据" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2680" y="2251" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-124" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-121" target="zZPF3GBV6QvH8n7jYyrb-123" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-121" value="行为和数据分离，业务行为引用对应玩家模块数据" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2680" y="2349" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-123" value="玩家数据由ActorDB模块维护落地" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2680" y="2444" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-128" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zZPF3GBV6QvH8n7jYyrb-125" target="zZPF3GBV6QvH8n7jYyrb-127" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-125" value="各个模块使用共享内存独立维护运行时数据" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2910" y="2251" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zZPF3GBV6QvH8n7jYyrb-127" value="各个模块维护数据落地" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2910" y="2391" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-1" target="mBUC216ZbLOM9nHP4JTD-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-31" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-1" target="mBUC216ZbLOM9nHP4JTD-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-1" value="AI Agent对象" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="174.5" y="3120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-2" value="Ai行为树对象" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="434.5" y="3120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="mBUC216ZbLOM9nHP4JTD-3" target="mBUC216ZbLOM9nHP4JTD-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="mBUC216ZbLOM9nHP4JTD-3" target="mBUC216ZbLOM9nHP4JTD-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="mBUC216ZbLOM9nHP4JTD-3" target="mBUC216ZbLOM9nHP4JTD-30" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="210.00000000000023" y="3290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-3" value="黑板对象" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="304.5" y="3260" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-7" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="640" y="3216.73" as="sourcePoint" />
            <mxPoint x="770" y="3216.73" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-8" value="类比" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="661.5" y="3162.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-10" target="mBUC216ZbLOM9nHP4JTD-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-35" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-10" target="mBUC216ZbLOM9nHP4JTD-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-10" value="Actor对象" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="995.5" y="3120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-11" value="模块" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1255.5" y="3120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="mBUC216ZbLOM9nHP4JTD-14" target="mBUC216ZbLOM9nHP4JTD-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="mBUC216ZbLOM9nHP4JTD-14" target="mBUC216ZbLOM9nHP4JTD-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="mBUC216ZbLOM9nHP4JTD-14" target="mBUC216ZbLOM9nHP4JTD-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-14" value="component" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1125.5" y="3260" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-15" value="AI行为树对象，本身不保存任务状态，不同的AI行为树对象可以接收不同的AI Agent对象，表现不同的行为，这种关系就好比是不同的Actor调用了不同模块的方法，产生了不同的行为" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="183.5" y="3333" width="991" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-16" value="黑板对象，作为公共数据，就好比是component，生命周期约等同于进程，全局可见，不同的AI Agent和Ai行为树对象共享。不过只需要保持AI线程只有一个，可以不用加锁。" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="183.5" y="3364" width="991" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-17" value="AI Agent对象，就类比Actor对象，有很多，各自存储各自的私有数据，借助AI行为树来表达行为。" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="181.5" y="3398" width="991" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-18" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="830" y="3105" width="560" height="225" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-19" value="服务器进程" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1150" y="3202.5" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-20" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="50" y="3105" width="530" height="225" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-21" value="AI线程" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="330" y="3202.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-22" value="客户端进程" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1135.5" y="2940" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-24" value="玩家行为协议驱动" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1200" y="3030" width="106" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-25" value="逻辑主线程" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="301.99" y="2940" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-27" value="主线程逻辑驱动（基于自定义协议的环形缓冲区）" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="269.99" y="3030" width="260.01" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-28" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="360" y="3090" as="sourcePoint" />
            <mxPoint x="360" y="3010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-29" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="1189.67" y="3090" as="sourcePoint" />
            <mxPoint x="1189.67" y="3010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-30" value="不进行持久化和恢复，宕机或者重启只能重建" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="57.75" y="3192.5" width="84.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-34" value="持久化和恢复" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="844.5" y="3192.5" width="95.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-38" target="mBUC216ZbLOM9nHP4JTD-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-38" value="agent-&amp;gt;btexec()" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="23.25" y="3430" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-39" value="agent自定义节点文件&lt;br&gt;BarbarianArmyAgent.cpp" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="6.5" y="3570" width="153.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-46" target="mBUC216ZbLOM9nHP4JTD-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-46" target="mBUC216ZbLOM9nHP4JTD-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-46" value="多线程、多进程、分布式&lt;br&gt;通信" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="110" y="3926" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-53" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-48" target="mBUC216ZbLOM9nHP4JTD-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-48" value="分布式" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="34.5" y="4026" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-55" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-50" target="mBUC216ZbLOM9nHP4JTD-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-50" value="多线程、多进程" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="190" y="4026" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-52" value="TCP消息" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="34.5" y="4096" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-54" value="共享内存环形缓冲区" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="190" y="4096" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-60" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-56" target="mBUC216ZbLOM9nHP4JTD-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-56" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="20" y="3916" width="340" height="230" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-57" value="维护session" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="115" y="4186" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-58" target="mBUC216ZbLOM9nHP4JTD-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-58" value="创建/获取session" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="115" y="3686" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-66" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-62" target="mBUC216ZbLOM9nHP4JTD-65" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-62" value="创建/重置定时器" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="115" y="3756" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-67" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-65" target="mBUC216ZbLOM9nHP4JTD-56" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-65" value="步骤1" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="115" y="3836" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-68" value="发送" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="20.5" y="3916" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-69" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-71" target="mBUC216ZbLOM9nHP4JTD-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-70" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-71" target="mBUC216ZbLOM9nHP4JTD-75" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-71" value="多线程、多进程、分布式&lt;br&gt;通信" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="584.5" y="3850" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-72" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-73" target="mBUC216ZbLOM9nHP4JTD-76" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-73" value="分布式" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="500.5" y="3750" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-74" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-75" target="mBUC216ZbLOM9nHP4JTD-77" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-75" value="多线程、多进程" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="680.5" y="3750" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-76" value="TCP消息" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="500.5" y="3680" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-77" value="共享内存环形缓冲区" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="680.5" y="3680" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-86" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-78" target="mBUC216ZbLOM9nHP4JTD-81" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-78" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="488.5" y="3670" width="356" height="230" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-79" value="接收" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="510" y="3855" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-80" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-81" target="mBUC216ZbLOM9nHP4JTD-83" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-81" value="创建/获取session" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="591.5" y="3946" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-82" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-83" target="mBUC216ZbLOM9nHP4JTD-84" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-83" value="创建/重置定时器" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="591.5" y="4016" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-88" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-84" target="mBUC216ZbLOM9nHP4JTD-87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-84" value="步骤2" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="591.5" y="4086" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-87" value="维护session" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="591.5" y="4166" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-91" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-89" target="mBUC216ZbLOM9nHP4JTD-90" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-93" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-89" target="mBUC216ZbLOM9nHP4JTD-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-98" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-89" target="mBUC216ZbLOM9nHP4JTD-97" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-89" value="共享持久数据" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1944.13" y="4252" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-90" value="锁" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1944.13" y="4092" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-92" value="session&lt;br&gt;维护上下文" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="2104.13" y="4252" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-97" value="&lt;div&gt;状态&lt;/div&gt;防重入" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1944.13" y="4412" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-99" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1120" y="3720" as="sourcePoint" />
            <mxPoint x="1120" y="4280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-100" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1650" y="3719" as="sourcePoint" />
            <mxPoint x="1650" y="4279" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-101" value="轮询&lt;div&gt;+&lt;/div&gt;&lt;div&gt;主动sleep&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1076" y="3876" width="24" height="204" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-102" value="线程/进程" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1090" y="3680" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-103" value="线程/进程" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1620" y="3680" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-104" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1120" y="3840" as="sourcePoint" />
            <mxPoint x="1650" y="3840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-105" value="环形队列" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1350" y="3810" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-106" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1650" y="3920" as="sourcePoint" />
            <mxPoint x="1120" y="3920" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-107" value="环形队列" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1350" y="3890" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-108" value="AI线程接收消息的回调&lt;div&gt;barbarian_army_agent_cpp_auto_gen.inl&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="641.5" y="4275" width="234" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-109" value="主线程接收消息的回调&lt;br&gt;ai_worker_auto_gen.inl&lt;br&gt;&lt;div&gt;src/world/ai/ai_worker.cpp&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="457.5" y="4275" width="144" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-110" value="msg_head" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1135" y="4335" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-111" value="msg_body" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1255" y="4335" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-112" value="handler" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1517.5" y="4334" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-113" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="1376.5" y="4365" as="sourcePoint" />
            <mxPoint x="1516.5" y="4365" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-114" value="通过MSG_ID注册" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1396.5" y="4326" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-119" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-115" target="mBUC216ZbLOM9nHP4JTD-118" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-115" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="1125.5" y="4321" width="521" height="90" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-121" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-118" target="mBUC216ZbLOM9nHP4JTD-120" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-118" value="轮询取出消息，根据MSG_ID，回调相应的handler" style="whiteSpace=wrap;html=1;fillColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1241" y="4440" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-123" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-120" target="mBUC216ZbLOM9nHP4JTD-122" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-120" value="在handler中，根据唯一id，找到agent，及其session/ctx" style="whiteSpace=wrap;html=1;fillColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1231.5" y="4510" width="309" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-122" value="更新session/ctx中的数据/状态" style="whiteSpace=wrap;html=1;fillColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1241" y="4570" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-126" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-124" target="mBUC216ZbLOM9nHP4JTD-125" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-124" value="生产者" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1199" y="4653.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-128" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-125" target="mBUC216ZbLOM9nHP4JTD-127" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-125" value="唯一ID" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1399" y="4653.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-130" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-127" target="mBUC216ZbLOM9nHP4JTD-129" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-127" value="维护session/ctx" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1599" y="4653.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-132" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-129" target="mBUC216ZbLOM9nHP4JTD-131" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-129" value="创建消息" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1799" y="4653.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-131" value="放入循环队列" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1999" y="4653.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-135" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-133" target="mBUC216ZbLOM9nHP4JTD-134" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-133" value="消费者" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1199" y="4747.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-137" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-134" target="mBUC216ZbLOM9nHP4JTD-136" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-134" value="取循环队列" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1399" y="4747.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-139" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-136" target="mBUC216ZbLOM9nHP4JTD-138" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-136" value="根据msg_id，回调相应handler" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1599" y="4747.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-141" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-138" target="mBUC216ZbLOM9nHP4JTD-140" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-138" value="根据唯一ID，找到相应的session/ctx" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1799" y="4747.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-140" value="维护session/ctx" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1999" y="4747.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-144" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-142" target="mBUC216ZbLOM9nHP4JTD-143" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-146" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-142" target="mBUC216ZbLOM9nHP4JTD-145" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-148" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-142" target="mBUC216ZbLOM9nHP4JTD-147" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-142" value="（主线程）收到（Ai线程）消息后" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="671.25" y="4600.5" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-143" value="立刻响应" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="872.25" y="4500.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-145" value="使用routine，异步响应" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="990.25" y="4600.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-147" value="不需要响应，是sync消息" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="872.25" y="4700.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-149" value="响应策略" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="832.25" y="4600.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-154" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-152" target="mBUC216ZbLOM9nHP4JTD-153" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-152" value="AI线程" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="23.75" y="4340.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-156" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-153" target="mBUC216ZbLOM9nHP4JTD-155" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-153" value="取出环形队列的消息" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="23.75" y="4440.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-158" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-155" target="mBUC216ZbLOM9nHP4JTD-157" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-155" value="响应回调&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="23.25" y="4530.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-160" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-157" target="mBUC216ZbLOM9nHP4JTD-159" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-157" value="触发所有&lt;br&gt;agent-&amp;gt;btexec()" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="23.75" y="4620.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-159" value="行为树节点内向环形队列塞消息" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="23.25" y="4721.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-161" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-162" target="mBUC216ZbLOM9nHP4JTD-164" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-162" value="主线程" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="274.25" y="4340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-163" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-164" target="mBUC216ZbLOM9nHP4JTD-166" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-164" value="取出环形队列的消息" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="274.25" y="4440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-165" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-166" target="mBUC216ZbLOM9nHP4JTD-168" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-171" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-166" target="mBUC216ZbLOM9nHP4JTD-170" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-173" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-166" target="mBUC216ZbLOM9nHP4JTD-172" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-166" value="响应回调&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="273.75" y="4530" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-168" value="同步响应" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="170.75" y="4630.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-170" value="不响应sync" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="273.75" y="4721.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-175" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="mBUC216ZbLOM9nHP4JTD-172" target="mBUC216ZbLOM9nHP4JTD-174" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-172" value="加入优先级任务队列" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="452.75" y="4610.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-174" value="异步响应" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="452.75" y="4721.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-176" value="AI行为树：agent+黑板（数据）+行为树（业务）" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1517.5" y="2970" width="296.75" height="200" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-177" value="主线程业务" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2007.5" y="2970" width="281" height="200" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-178" value="主线程AI数据" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2007.5" y="3240" width="281" height="200" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-179" value="防重入：共享持久化数据" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1925.5" y="3692" width="137" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-180" value="继承Agent，自定义叶子节点行为，&lt;br&gt;通过返回值FAILURE、SUCCESS、RUNNING&lt;br&gt;控制行为树状态" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1925.5" y="3792" width="267" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-181" value="主线程AI和bt_id绑定（配置文件ID，标识某一种AI)&lt;br&gt;AI还有一个army_id，作为guid" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2008.5" y="3480" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-182" value="使用可视化工具编辑行为树，生成xml行为树结构" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1925.5" y="3902" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-183" value="agent的生命周期管理：&lt;br&gt;数据结构是全局std::map管理所有的agent；key是agent_guid" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1925.5" y="3992" width="217" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mBUC216ZbLOM9nHP4JTD-184" value="只会在AI测数据落地，宕机或者起服时，重建AI行为树" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2009.5" y="3600" width="319" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-1" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=default;" vertex="1" parent="1">
          <mxGeometry y="2863" width="2440" height="2017" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-2" value="&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;AI行为树的一些笔记，核心只有下面这个图&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="620.5" y="2920" width="255" height="39" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-47" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-41" target="mz4dMBTAXkOpJP8oKUuX-42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-41" value="gateway" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="156" y="5104" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-48" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-42" target="mz4dMBTAXkOpJP8oKUuX-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-42" value="tconnd" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="156" y="5194" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-50" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-43" target="mz4dMBTAXkOpJP8oKUuX-49">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-43" value="选服策略：&lt;br&gt;首先，地理位置更近的world集群&lt;br&gt;然后再负载均衡策略，例如一致性hash" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="111.5" y="5284" width="209" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-49" value="world，生成uid，uid绑定world_id，&lt;br&gt;记录玩家在线" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="110.5" y="5374" width="209" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-52" target="mz4dMBTAXkOpJP8oKUuX-54">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-52" value="gateway" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="434.5" y="5103" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-53" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-54" target="mz4dMBTAXkOpJP8oKUuX-56">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-54" value="tconnd" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="434.5" y="5193" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-55" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-56" target="mz4dMBTAXkOpJP8oKUuX-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-56" value="路由策略：查表&lt;br&gt;查询uid--world_id缓存绑定，&lt;br&gt;查不到再尝试查询DB" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="390" y="5283" width="209" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-57" value="进入world" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="389" y="5373" width="209" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-58" value="&lt;font style=&quot;color: rgb(255, 0, 0); font-size: 22px;&quot;&gt;全区全服角色服路由策略&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="59" y="5010" width="271" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-59" value="创角" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="185" y="5073" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-60" value="登录" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="466.5" y="5073" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-61" value="重复登录，&lt;br&gt;踢旧留新" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="640" y="5073" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-62" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="40" y="5010" width="680" height="470" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-64" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-65" target="mz4dMBTAXkOpJP8oKUuX-67">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-65" value="gateway" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="924.5" y="5053" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-66" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-67" target="mz4dMBTAXkOpJP8oKUuX-69">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-67" value="tconnd" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="924.5" y="5143" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-68" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-69" target="mz4dMBTAXkOpJP8oKUuX-70">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-69" value="根据玩家选择的区服，确定world_id" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="880" y="5233" width="209" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-90" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-70" target="mz4dMBTAXkOpJP8oKUuX-83">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-70" value="进入world，创角时生成uid，&lt;br&gt;初次通过负载均衡，选择actor实例&lt;br&gt;记录玩家在线。" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="880" y="5323" width="209" height="76" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-71" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-72" target="mz4dMBTAXkOpJP8oKUuX-74">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-72" value="gateway" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1203" y="5052" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-73" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-74" target="mz4dMBTAXkOpJP8oKUuX-76">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-74" value="tconnd" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1203" y="5142" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-75" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-76" target="mz4dMBTAXkOpJP8oKUuX-77">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-76" value="根据玩家选择的区服，确定world_id" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1158.5" y="5232" width="209" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-91" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-77" target="mz4dMBTAXkOpJP8oKUuX-87">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-77" value="进入world&lt;br&gt;根据uid-actor的绑定缓存，&lt;br&gt;找不到缓存从DB查询绑定关系" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1157.5" y="5322" width="209" height="77" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-78" value="创角" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="953.5" y="5022" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-79" value="登录" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1235" y="5022" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-80" value="重复登录，&lt;br&gt;踢旧留新" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1425" y="5025" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-83" value="进入actor" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="880" y="5431" width="209" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-87" value="进入actor" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1157.5" y="5430" width="209" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-92" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="806" y="5000" width="704" height="480" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-93" value="&lt;font style=&quot;color: rgb(255, 0, 0); font-size: 22px;&quot;&gt;分区分服路由策略&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1017" y="5005" width="206" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-94" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="370" y="5490" as="sourcePoint" />
            <mxPoint x="720" y="5630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-95" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1160" y="5490" as="sourcePoint" />
            <mxPoint x="810" y="5630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-96" value="区别：全区全服初次是通过物理位置（靠近哪个机房近）和负载均衡选择玩家进入的服。&lt;br&gt;分区分服初次是通过玩家手动选择来确定进入哪个服。" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="543.5" y="5640" width="470" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-97" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="16" y="4970" width="1534" height="730" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-98" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;width=10.588235294117647;endSize=14.141176470588235;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1310" y="5500" as="sourcePoint" />
            <mxPoint x="1310" y="5570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-99" value="&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;单服world唯一，actor集群。&lt;br&gt;本质上是一种分层负载均衡机制&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1220" y="5580" width="280" height="70" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-107" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-100" target="mz4dMBTAXkOpJP8oKUuX-106">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-108" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-100" target="mz4dMBTAXkOpJP8oKUuX-101">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-109" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-100" target="mz4dMBTAXkOpJP8oKUuX-103">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-100" value="dummy_head" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="33.750000000000014" y="6010" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-121" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-101" target="mz4dMBTAXkOpJP8oKUuX-114">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="753.75" y="5940" />
              <mxPoint x="753.75" y="6105" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-101" value="forward[2]" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="194.75" y="5910" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-111" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-103" target="mz4dMBTAXkOpJP8oKUuX-110">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-103" value="forward[0]" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="194.75" y="6105" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-106" target="mz4dMBTAXkOpJP8oKUuX-112">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="523.75" y="6040" />
              <mxPoint x="523.75" y="6120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-106" value="forward[1]" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="194.75" y="6010" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-113" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-110" target="mz4dMBTAXkOpJP8oKUuX-112">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-110" value="node1" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="394.75" y="6105" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-115" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-112" target="mz4dMBTAXkOpJP8oKUuX-114">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-112" value="node2" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="594.75" y="6105" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-117" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-114" target="mz4dMBTAXkOpJP8oKUuX-116">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-114" target="mz4dMBTAXkOpJP8oKUuX-118">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="963.75" y="6120" />
              <mxPoint x="963.75" y="6080" />
              <mxPoint x="1143.75" y="6080" />
              <mxPoint x="1143.75" y="6120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-114" value="node3" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="794.75" y="6105" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-119" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-116" target="mz4dMBTAXkOpJP8oKUuX-118">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-116" value="node4" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="994.75" y="6105" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-162" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-118" target="mz4dMBTAXkOpJP8oKUuX-158">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-118" value="node5" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1194.75" y="6105" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-122" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-112" target="mz4dMBTAXkOpJP8oKUuX-114">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="748.75" y="6215" as="sourcePoint" />
            <mxPoint x="798.75" y="6165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-124" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="854.46" y="6200" as="sourcePoint" />
            <mxPoint x="854.46" y="6270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-146" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-125" target="mz4dMBTAXkOpJP8oKUuX-128">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-125" value="head0" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="198.25" y="6480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-151" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-126" target="mz4dMBTAXkOpJP8oKUuX-135">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-126" value="head2" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="198.75" y="6300" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-143" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-127" target="mz4dMBTAXkOpJP8oKUuX-133">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-127" value="head1" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="198.25" y="6390" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-147" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-128" target="mz4dMBTAXkOpJP8oKUuX-131">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-128" value="node1" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="397.25" y="6480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-148" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-131" target="mz4dMBTAXkOpJP8oKUuX-134">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-131" value="node2" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="593.75" y="6480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-144" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-133" target="mz4dMBTAXkOpJP8oKUuX-136">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-133" value="node2" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="593.75" y="6390" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-149" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-134" target="mz4dMBTAXkOpJP8oKUuX-137">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-134" value="node3" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="793.25" y="6480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-157" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-135" target="mz4dMBTAXkOpJP8oKUuX-153">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-135" value="node3" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="793.75" y="6300" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-145" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-136" target="mz4dMBTAXkOpJP8oKUuX-142">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-136" value="node3" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="793.25" y="6390" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-150" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-137" target="mz4dMBTAXkOpJP8oKUuX-140">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-137" value="node4" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="994.5" y="6480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-155" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-140" target="mz4dMBTAXkOpJP8oKUuX-152">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-140" value="node5" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1194.5" y="6480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-156" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-142" target="mz4dMBTAXkOpJP8oKUuX-154">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-142" value="node5" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1194.5" y="6390" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-152" value="tail0" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1422.25" y="6480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-153" value="tail2" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1422.75" y="6300" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-154" value="tail1" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1422.25" y="6390" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-158" value="tail" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1420.5" y="6105" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-165" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-114" target="mz4dMBTAXkOpJP8oKUuX-158">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="973.75" y="6020" as="sourcePoint" />
            <mxPoint x="1383.75" y="5940" as="targetPoint" />
            <Array as="points">
              <mxPoint x="930" y="6105" />
              <mxPoint x="930" y="6050" />
              <mxPoint x="1360" y="6050" />
              <mxPoint x="1360" y="6105" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-166" value="内存关系" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="823.25" y="6165" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-167" value="逻辑关系" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="823.25" y="6270" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-168" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="23.75" y="5845" width="1836.25" height="725" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-169" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;跳表&lt;/font&gt;&lt;br&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;实际使用时，跳表还需要配合hash表快速定位节点指针，&lt;br&gt;以及配合span，实现logN快速定位排名&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="808.75" y="5902.5" width="755.5" height="75" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-170" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-118" target="mz4dMBTAXkOpJP8oKUuX-158">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1350" y="6090" as="sourcePoint" />
            <mxPoint x="1400" y="6040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-174" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;对于排行榜的跳表来说：&lt;br&gt;增加logN&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;删除，通过hash表快速定位O(1)&lt;br&gt;改=先删后增。&lt;br&gt;查，通过hash表快速定位O(1)，然后通过span，logN知道排名&lt;br&gt;遍历那只能O(N)&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1580" y="5870" width="250" height="670" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-177" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2007.5" y="6382" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-178" value="前1000名排行榜" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2210.5" y="6025" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-179" value="邮件集群" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2057.5" y="6181" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-180" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2022" y="6392" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-181" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2187.5" y="6381" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-182" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2037.5" y="6402" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-183" value="邮件集群" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2072.5" y="6190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-184" value="大区rank svr集群&lt;br&gt;主备节点容灾" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2087.5" y="6200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-185" value="邮件集群" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2527.5" y="6180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-186" value="邮件集群" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2542.5" y="6189" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-187" value="大区rank svr集群&lt;br&gt;主备节点容灾" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2557.5" y="6199" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-188" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2202.5" y="6391" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-189" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2221" y="6401" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-190" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2464" y="6382" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-191" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2478.5" y="6392" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-192" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2644" y="6382" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-193" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2494" y="6402" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-194" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2659" y="6392" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-195" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2677.5" y="6402" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-196" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="2137.5" y="6370" as="sourcePoint" />
            <mxPoint x="2137.5" y="6270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-197" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="2613.55" y="6370" as="sourcePoint" />
            <mxPoint x="2613.55" y="6270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-198" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="2120" y="6170" as="sourcePoint" />
            <mxPoint x="2200" y="6050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-199" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="2594" y="6170" as="sourcePoint" />
            <mxPoint x="2270" y="6100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-200" value="一致性hash&lt;br&gt;路由和负载均衡" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2147.5" y="6310" width="106.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-201" value="一致性hash&lt;br&gt;路由和负载均衡" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2628.5" y="6310" width="106.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-204" value="&lt;font style=&quot;font-size: 45px;&quot;&gt;...&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2348" y="6179" width="60" height="61" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-205" value="（主）中心节点层，分片" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2810" y="6040" width="146" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-206" value="集群负载均衡层，主节点一致性，备节点容灾" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2810" y="6214" width="186" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-207" value="gamesvr层" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2839" y="6407" width="111" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-209" value="&lt;font style=&quot;font-size: 20px;&quot; color=&quot;#ff0000&quot;&gt;全服排行榜架构&lt;br&gt;共享数据，且实时性要求高，&lt;br&gt;但是可以分层、分片处理&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1965.5" y="5887.5" width="271" height="90" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-213" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1971.5" y="5452" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-214" value="全服邮件服&lt;br&gt;中心节点" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2258" y="5100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-215" value="邮件集群" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2021.5" y="5251" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-216" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1986" y="5462" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-217" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2151.5" y="5451" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-218" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2001.5" y="5472" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-219" value="邮件集群" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2036.5" y="5260" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-220" value="大区邮件服集群" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2051.5" y="5270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-221" value="邮件集群" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2491.5" y="5250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-222" value="邮件集群" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2506.5" y="5259" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-223" value="大区邮件服集群" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2521.5" y="5269" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-224" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2166.5" y="5461" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-225" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2185" y="5471" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-226" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2428" y="5452" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-227" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2442.5" y="5462" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-228" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2608" y="5452" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-229" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2458" y="5472" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-230" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2623" y="5462" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-231" value="gamesvr" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2641.5" y="5472" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-232" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="2101.5" y="5440" as="sourcePoint" />
            <mxPoint x="2101.5" y="5340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-233" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="2577.55" y="5440" as="sourcePoint" />
            <mxPoint x="2577.55" y="5340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-234" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="2078" y="5250" as="sourcePoint" />
            <mxPoint x="2238" y="5120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-235" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="2558" y="5240" as="sourcePoint" />
            <mxPoint x="2398" y="5120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-236" value="一致性hash&lt;br&gt;路由和负载均衡" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2111.5" y="5380" width="106.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-237" value="一致性hash&lt;br&gt;路由和负载均衡" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2600.25" y="5370" width="106.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-238" value="分帧广播" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2167.99" y="5183" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-239" value="分帧广播" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2422.5" y="5182" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-240" value="&lt;font style=&quot;font-size: 45px;&quot;&gt;...&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2312" y="5249" width="60" height="61" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-241" value="（主）中心节点层" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2778" y="5090" width="106" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-242" value="集群负载均衡层" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2788" y="5284" width="111" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-243" value="gamesvr层" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2790.25" y="5485" width="111" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-244" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1938" y="5040" width="990" height="715" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-245" value="&lt;font style=&quot;color: rgb(255, 0, 0); font-size: 22px;&quot;&gt;全服邮件架构&lt;br&gt;特点：最终一致性、实时性要求不高&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1942" y="5050" width="206" height="75" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-246" value="最终一致性，&lt;br&gt;实时性要求不高" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2279" y="5183" width="93" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-247" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="mz4dMBTAXkOpJP8oKUuX-248" target="mz4dMBTAXkOpJP8oKUuX-214">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2610" y="5080" />
              <mxPoint x="2318" y="5080" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-248" value="后台管理员" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2550" y="5100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-249" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;邮件数据是所有人独立的，不是共享数据&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2001.5" y="5605" width="398" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-250" value="全部排行榜" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2380" y="6025" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-251" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="2440" y="6100" as="sourcePoint" />
            <mxPoint x="2181.5" y="6170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-252" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="2630" y="6160" as="sourcePoint" />
            <mxPoint x="2510" y="6050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-253" value="强一致性，高实时性，实时同步" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2160" y="5995" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-254" value="最终一致性，低实时性，分帧同步" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2369.5" y="5995" width="190.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-255" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1938" y="5850" width="1072" height="680" as="geometry" />
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-256" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;width=14.666666666666666;endSize=11.053333333333333;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2940" y="5370" as="sourcePoint" />
            <mxPoint x="3180" y="5700" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-257" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3018.5" y="6199" as="sourcePoint" />
            <mxPoint x="3170" y="5840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mz4dMBTAXkOpJP8oKUuX-258" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;不存在共享数据的写操作时，可以直接集群负载均衡&lt;br&gt;存在共享数据的写操作时，只采用主备服务器&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2956" y="5720" width="280" height="110" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
