<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" version="28.2.9">
  <diagram name="第 1 页" id="yRRZaPeO-JIJeqCieerl">
    <mxGraphModel dx="2925" dy="933" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="NcT97teQHjwlcTP3dzW2-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="FPOfLXPbV75VCjuFyTgK-1" target="FPOfLXPbV75VCjuFyTgK-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-23" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Syn Sent&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NcT97teQHjwlcTP3dzW2-21" vertex="1" connectable="0">
          <mxGeometry x="-0.0966" relative="1" as="geometry">
            <mxPoint y="-5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-1" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;A&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="70" y="110" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="FPOfLXPbV75VCjuFyTgK-2" target="FPOfLXPbV75VCjuFyTgK-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-29" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;SYN_RECEIVED&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NcT97teQHjwlcTP3dzW2-22" vertex="1" connectable="0">
          <mxGeometry x="-0.1553" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-2" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;B&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="430" y="110" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-3" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="FPOfLXPbV75VCjuFyTgK-1" target="FPOfLXPbV75VCjuFyTgK-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="130" as="sourcePoint" />
            <mxPoint x="400" y="130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-15" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Send SYN&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="FPOfLXPbV75VCjuFyTgK-3" vertex="1" connectable="0">
          <mxGeometry x="-0.2519" y="-1" relative="1" as="geometry">
            <mxPoint x="-20" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="FPOfLXPbV75VCjuFyTgK-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="130" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-36" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;ESTABLISHED&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NcT97teQHjwlcTP3dzW2-35" vertex="1" connectable="0">
          <mxGeometry x="-0.2178" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-6" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;A&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="70" y="224" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="FPOfLXPbV75VCjuFyTgK-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="490" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-32" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;ESTABLISHED&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NcT97teQHjwlcTP3dzW2-31" vertex="1" connectable="0">
          <mxGeometry x="-0.1526" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-8" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;B&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="430" y="224" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-11" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="FPOfLXPbV75VCjuFyTgK-2" target="FPOfLXPbV75VCjuFyTgK-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="130" as="sourcePoint" />
            <mxPoint x="220" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-16" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;ACK&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="FPOfLXPbV75VCjuFyTgK-11" vertex="1" connectable="0">
          <mxGeometry x="0.1989" y="-2" relative="1" as="geometry">
            <mxPoint x="66" y="-29" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-12" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" source="FPOfLXPbV75VCjuFyTgK-6" target="FPOfLXPbV75VCjuFyTgK-8" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="230" as="sourcePoint" />
            <mxPoint x="400" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-18" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Send ACK&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="FPOfLXPbV75VCjuFyTgK-12" vertex="1" connectable="0">
          <mxGeometry x="0.1926" y="1" relative="1" as="geometry">
            <mxPoint x="-73" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-13" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=1;exitDx=0;exitDy=0;" parent="1" source="FPOfLXPbV75VCjuFyTgK-2" target="FPOfLXPbV75VCjuFyTgK-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="160" as="sourcePoint" />
            <mxPoint x="220" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-17" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;SYN&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="FPOfLXPbV75VCjuFyTgK-13" vertex="1" connectable="0">
          <mxGeometry x="0.0906" y="4" relative="1" as="geometry">
            <mxPoint x="65" y="-20" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-14" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;所谓的三次握手，其实是双向确认&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;A给B发的消息，要受到B的回包才能确认发送成功对吧。&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;那B给A的消息，不也得收到A的回包才能确认发送成功吗，&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;只不过第一次B给A回包的时候，顺便携带了B给A发送的数据，即B给A的回包和发送的数据合为一次了，最终表现为三次握手&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="585" y="130" width="520" height="120" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="FPOfLXPbV75VCjuFyTgK-19" target="FPOfLXPbV75VCjuFyTgK-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-8" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;FIN_WAIT1&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NcT97teQHjwlcTP3dzW2-7" vertex="1" connectable="0">
          <mxGeometry x="-0.2641" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-19" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;A&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="70" y="423" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="FPOfLXPbV75VCjuFyTgK-20" target="FPOfLXPbV75VCjuFyTgK-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-13" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;CLOSE_WAIT&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NcT97teQHjwlcTP3dzW2-11" vertex="1" connectable="0">
          <mxGeometry x="-0.126" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-20" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;B&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="430" y="423" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-21" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="FPOfLXPbV75VCjuFyTgK-19" target="FPOfLXPbV75VCjuFyTgK-20" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="443" as="sourcePoint" />
            <mxPoint x="400" y="443" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-22" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Send FIN&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="FPOfLXPbV75VCjuFyTgK-21" vertex="1" connectable="0">
          <mxGeometry x="-0.2519" y="-1" relative="1" as="geometry">
            <mxPoint x="61" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="FPOfLXPbV75VCjuFyTgK-23" target="FPOfLXPbV75VCjuFyTgK-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-10" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;FIN_WAIT2&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NcT97teQHjwlcTP3dzW2-9" vertex="1" connectable="0">
          <mxGeometry x="-0.1722" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-23" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;A&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="70" y="543" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-25" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="FPOfLXPbV75VCjuFyTgK-20" target="FPOfLXPbV75VCjuFyTgK-23" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="443" as="sourcePoint" />
            <mxPoint x="220" y="513" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-26" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Send ACK&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="FPOfLXPbV75VCjuFyTgK-25" vertex="1" connectable="0">
          <mxGeometry x="0.1989" y="-2" relative="1" as="geometry">
            <mxPoint x="-37" y="13" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-31" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;A&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="70" y="673" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="FPOfLXPbV75VCjuFyTgK-32" target="FPOfLXPbV75VCjuFyTgK-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-14" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;LAST_ACK&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NcT97teQHjwlcTP3dzW2-12" vertex="1" connectable="0">
          <mxGeometry x="0.0168" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-32" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;B&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="430" y="558" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="FPOfLXPbV75VCjuFyTgK-37" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="490" y="793" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-18" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;CLSOE&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NcT97teQHjwlcTP3dzW2-17" vertex="1" connectable="0">
          <mxGeometry x="-0.189" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-37" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;B&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="430" y="673" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-38" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="FPOfLXPbV75VCjuFyTgK-32" target="FPOfLXPbV75VCjuFyTgK-31" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="330" y="693" as="sourcePoint" />
            <mxPoint x="380" y="643" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-40" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;SEND FIN&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="FPOfLXPbV75VCjuFyTgK-38" vertex="1" connectable="0">
          <mxGeometry x="-0.1867" relative="1" as="geometry">
            <mxPoint x="47" y="-17" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-39" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="FPOfLXPbV75VCjuFyTgK-31" target="FPOfLXPbV75VCjuFyTgK-37" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="240" y="753" as="sourcePoint" />
            <mxPoint x="290" y="703" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-41" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;SEND ACK&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="FPOfLXPbV75VCjuFyTgK-39" vertex="1" connectable="0">
          <mxGeometry x="0.1794" relative="1" as="geometry">
            <mxPoint x="-50" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-42" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="319.76" y="518" as="sourcePoint" />
            <mxPoint x="320.18" y="613" as="targetPoint" />
            <Array as="points">
              <mxPoint x="320.18" y="583" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-43" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;处理剩余数据的收发&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="FPOfLXPbV75VCjuFyTgK-42" vertex="1" connectable="0">
          <mxGeometry x="0.0222" y="-3" relative="1" as="geometry">
            <mxPoint x="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="FPOfLXPbV75VCjuFyTgK-44" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;所谓的四次挥手，其实和三次握手是一样一样的，只不过，这次B没有将给A的回包和给A发送的数据合在一起发，因为这之间还需要处理以下剩余数据的收发&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="590" y="522" width="460" height="81" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9tL88ekn2JAb7yBZG4Q8-1" target="9tL88ekn2JAb7yBZG4Q8-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-1" value="NAT网络" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1810" y="190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="9tL88ekn2JAb7yBZG4Q8-2" target="9tL88ekn2JAb7yBZG4Q8-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-2" value="虚拟机" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1610" y="150" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-3" value="宿主机" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2000" y="190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9tL88ekn2JAb7yBZG4Q8-4" target="9tL88ekn2JAb7yBZG4Q8-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-4" value="虚拟机" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1610" y="250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-8" value="虚拟机" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1610" y="410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="9tL88ekn2JAb7yBZG4Q8-9" target="9tL88ekn2JAb7yBZG4Q8-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-9" value="虚拟机" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1610" y="520" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="9tL88ekn2JAb7yBZG4Q8-10" target="9tL88ekn2JAb7yBZG4Q8-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-10" value="宿主机" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1830" y="460" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-11" value="宿主机网卡" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2020" y="460" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.583;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="9tL88ekn2JAb7yBZG4Q8-8" target="9tL88ekn2JAb7yBZG4Q8-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9tL88ekn2JAb7yBZG4Q8-15" target="9tL88ekn2JAb7yBZG4Q8-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-15" value="虚拟机" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1610" y="670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9tL88ekn2JAb7yBZG4Q8-16" target="9tL88ekn2JAb7yBZG4Q8-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-16" value="虚拟机" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1610" y="780" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9tL88ekn2JAb7yBZG4Q8-17" target="9tL88ekn2JAb7yBZG4Q8-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-17" value="虚拟网卡" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2110" y="730" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="9tL88ekn2JAb7yBZG4Q8-18" target="9tL88ekn2JAb7yBZG4Q8-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="9tL88ekn2JAb7yBZG4Q8-18" target="9tL88ekn2JAb7yBZG4Q8-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-18" value="宿主机" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2290" y="730" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-19" value="物理网卡" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2454" y="730" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="9tL88ekn2JAb7yBZG4Q8-22" target="9tL88ekn2JAb7yBZG4Q8-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-22" value="虚拟机虚拟网卡" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1760" y="670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="9tL88ekn2JAb7yBZG4Q8-24" target="9tL88ekn2JAb7yBZG4Q8-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-24" value="虚拟机虚拟网卡" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1760" y="780" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-27" value="交换机" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1950" y="730" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-31" value="NAT网络" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1830" y="90" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-32" value="桥接" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1840" y="370" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9tL88ekn2JAb7yBZG4Q8-33" value="host-only" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1860" y="625" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-1" value="CIV私服架构" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1645" y="1239" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Tl0Qnuqx1QPe_ZK7dKHq-2" target="Tl0Qnuqx1QPe_ZK7dKHq-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Tl0Qnuqx1QPe_ZK7dKHq-2" target="Tl0Qnuqx1QPe_ZK7dKHq-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-2" value="tconnd&lt;div&gt;对外端口&lt;/div&gt;&lt;div&gt;9.135.57.165:7001&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1800" y="1320" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;dashPattern=8 8;" parent="1" vertex="1">
          <mxGeometry x="1460" y="1290" width="730" height="190" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-4" value="tbus2_ns&lt;div&gt;对外端口9.135.57.165:8070&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1495" y="1400" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-5" value="tbuspp_agent" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1655" y="1620" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Tl0Qnuqx1QPe_ZK7dKHq-9" target="Tl0Qnuqx1QPe_ZK7dKHq-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-9" value="actor" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1795" y="1730" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Tl0Qnuqx1QPe_ZK7dKHq-10" target="Tl0Qnuqx1QPe_ZK7dKHq-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-10" value="conn" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1795" y="1760" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Tl0Qnuqx1QPe_ZK7dKHq-13" target="Tl0Qnuqx1QPe_ZK7dKHq-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-13" value="world" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1795" y="1700" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Tl0Qnuqx1QPe_ZK7dKHq-15" target="Tl0Qnuqx1QPe_ZK7dKHq-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-15" value="battled" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1795" y="1670" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-41" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Tl0Qnuqx1QPe_ZK7dKHq-17" target="Tl0Qnuqx1QPe_ZK7dKHq-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-17" value="tbuspp_agent" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1820" y="1417.5" width="80" height="25" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-21" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;dashed=1;" parent="1" source="Tl0Qnuqx1QPe_ZK7dKHq-4" target="Tl0Qnuqx1QPe_ZK7dKHq-17" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1655" y="1490" as="sourcePoint" />
            <mxPoint x="1705" y="1440" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-46" value="注册" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="Tl0Qnuqx1QPe_ZK7dKHq-21" vertex="1" connectable="0">
          <mxGeometry x="0.111" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-25" value="跨服都是采用tbuspp_agent进行连接的" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1880" y="1510" width="215" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-27" value="私服" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1505" y="1695" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-28" value="公共服务集群" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1495" y="1360" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-37" value="客户端、网关" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="1800" y="1180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.548;entryY=1.044;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;" parent="1" source="Tl0Qnuqx1QPe_ZK7dKHq-5" target="Tl0Qnuqx1QPe_ZK7dKHq-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-47" value="注册" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="Tl0Qnuqx1QPe_ZK7dKHq-39" vertex="1" connectable="0">
          <mxGeometry x="0.2186" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-40" value="其他服务的tbuspp_agent" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="2055" y="1400" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-45" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1460" y="1600" width="735" height="190" as="geometry" />
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-49" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="Tl0Qnuqx1QPe_ZK7dKHq-5" target="Tl0Qnuqx1QPe_ZK7dKHq-17" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1715" y="1570" as="sourcePoint" />
            <mxPoint x="1775" y="1500" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1735" y="1510" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-50" value="&lt;font color=&quot;#ff6666&quot;&gt;ns注册了所有服务实例，tbus_agent进行通信时，&lt;br&gt;先查看本地是否有路由缓存，无则前往ns查看是否&lt;br&gt;有路由缓存。&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="Tl0Qnuqx1QPe_ZK7dKHq-49" vertex="1" connectable="0">
          <mxGeometry x="0.1246" y="2" relative="1" as="geometry">
            <mxPoint x="-26" y="26" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Tl0Qnuqx1QPe_ZK7dKHq-51" value="所有Mesh网络内的节点都要先通过NS注册，然后可以获取其他节点URL，实现路由" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1485" y="1300" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="o_uqSXzjHK8yh5ZdAY-n-3" target="o_uqSXzjHK8yh5ZdAY-n-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-3" value="网络接口卡&lt;div&gt;（链路层）&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-1385" y="485" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o_uqSXzjHK8yh5ZdAY-n-4" target="o_uqSXzjHK8yh5ZdAY-n-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-4" value="内核IP协议驱动" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1362" y="175" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o_uqSXzjHK8yh5ZdAY-n-8" target="o_uqSXzjHK8yh5ZdAY-n-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-8" value="内核TCP协议驱动" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1202" y="175" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-10" value="用户应用层协议" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1052" y="175" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o_uqSXzjHK8yh5ZdAY-n-12" target="o_uqSXzjHK8yh5ZdAY-n-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-12" value="以太网链路层驱动" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1522" y="175" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-14" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1577" y="140" width="700" height="130" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o_uqSXzjHK8yh5ZdAY-n-16" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1210" y="625" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-16" value="网络接口卡&lt;div&gt;（链路层）&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-1385" y="585" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="o_uqSXzjHK8yh5ZdAY-n-17" target="o_uqSXzjHK8yh5ZdAY-n-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-17" value="网络接口卡&lt;div&gt;（链路层）&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-1385" y="685" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o_uqSXzjHK8yh5ZdAY-n-18" target="o_uqSXzjHK8yh5ZdAY-n-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-18" value="交换机" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1130" y="595" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="o_uqSXzjHK8yh5ZdAY-n-23" target="o_uqSXzjHK8yh5ZdAY-n-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-23" value="交换机的核心作用是通过目标MAC地址自动转发给目标端口（端口连接了一个设备），一切具有这种功能的，都是广义的交换机" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1180" y="765" width="240" height="87" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-24" value="默认网关（IP地址）" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-830" y="595" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-25" value="PC1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1550" y="480" width="250" height="90" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-26" value="PC2" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1550" y="580" width="250" height="90" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-27" value="PC3" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1550" y="685" width="250" height="90" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-28" value="交换机网卡" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-1210" y="585" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-29" value="一般是指具有网卡功能的模块（软件或者硬件）" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1230" y="385" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-30" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="o_uqSXzjHK8yh5ZdAY-n-29" target="o_uqSXzjHK8yh5ZdAY-n-28" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1200" y="565" as="sourcePoint" />
            <mxPoint x="-1150" y="515" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-35" value="网络接口卡（网卡）是工作在链路层的设备，具有解析以太网帧格式的功能，任何工作在链路层及其以上的网络设备都需要具备网卡的功能" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-1470" y="925" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-36" value="路由器网卡" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-910" y="585" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-40" value="现代家用路由器同时兼具“交换机”和“路由器”和“调制解调器”被称为【猫】" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-943" y="379" width="203" height="70" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-41" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;rotation=90;" parent="1" vertex="1">
          <mxGeometry x="-868.5" y="260" width="50" height="430" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-42" value="路由" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-710" y="565" width="70" height="120" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-43" value="和其他路由器或者网络连接的IP" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-640" y="595" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-44" value="任何能解析和处理IP地址的设备，都可以配置IP地址" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-800" y="925" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-45" value="默认网关，本质是局域网的概念，是指局域网内设备的默认下一条的IP地址，只是一般正好落在路由器的一个端口IP上。" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-868.5" y="765" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="o_uqSXzjHK8yh5ZdAY-n-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.62;entryY=0.994;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="o_uqSXzjHK8yh5ZdAY-n-45" target="o_uqSXzjHK8yh5ZdAY-n-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q91fNOTxhyZgAkPPZD7Q-1" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;TCP 的可靠性（序列号、确认应答、超时重传、乱序重组、流量控制、拥塞控制）全部在 传输层 由 TCP 协议自身实现，对应用层透明。&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;而所谓的三次握手，就是相当于TCP连接初始化，初始序号、窗口大小、MSS、SACK 能力等全部对齐。&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-340.97" y="80" width="300" height="230" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-1" value="" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1795" y="1310" width="130" height="90" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-2" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.984;entryY=0.421;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;dashPattern=8 4 1 4;" parent="1" target="HayRyLH1Y7qyleInHtEZ-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2115" y="1220" as="sourcePoint" />
            <mxPoint x="2165" y="1170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-3" value="tconnd也有自己的tbus2_agent" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2095" y="1195" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-4" target="HayRyLH1Y7qyleInHtEZ-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-4" value="tconnd" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2245" y="1290" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-5" target="HayRyLH1Y7qyleInHtEZ-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-5" value="tbuspp_agent" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2362" y="1290" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-7" value="ns" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2485" y="1290" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-9" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;" parent="1" vertex="1">
          <mxGeometry x="1385" y="1315" width="50" height="445" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-10" value="所有的服务实例，都有一套配合tbuspp_agent的接口，用于收发消息" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1175" y="1522.5" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-12" target="HayRyLH1Y7qyleInHtEZ-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-12" value="tconnd" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2245" y="1390" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-14" target="HayRyLH1Y7qyleInHtEZ-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-14" value="tbuspp_agent" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2362" y="1390" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-15" value="目标实例tbuspp_agent" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2485" y="1390" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-17" target="HayRyLH1Y7qyleInHtEZ-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-17" value="服务实例1" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2245" y="1490" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-19" target="HayRyLH1Y7qyleInHtEZ-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-19" value="tbuspp_agent" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2362" y="1490" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-20" value="ns" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2485" y="1490" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-22" target="HayRyLH1Y7qyleInHtEZ-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-22" value="服务实例1" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2242" y="1580" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-24" target="HayRyLH1Y7qyleInHtEZ-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-24" value="共享内存" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2362" y="1580" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-25" target="HayRyLH1Y7qyleInHtEZ-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-25" value="tbuspp_agent" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2485" y="1580" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-27" target="HayRyLH1Y7qyleInHtEZ-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-27" value="服务实例1" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2242" y="1660" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-29" target="HayRyLH1Y7qyleInHtEZ-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-29" value="tbuspp_agent" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2359" y="1660" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-30" target="HayRyLH1Y7qyleInHtEZ-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-30" value="TCP" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2482" y="1660" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-31" target="HayRyLH1Y7qyleInHtEZ-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-31" value="tbuspp_agent" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2605" y="1660" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-32" value="服务实例2" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2725" y="1660" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-35" value="服务实例2" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2725" y="1580" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-37" target="HayRyLH1Y7qyleInHtEZ-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-37" value="共享内存" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2605" y="1580" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-40" value="tconnd查看服务实例路由" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2245" y="1260" width="148" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-41" value="tconnd发送消息" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2216" y="1360" width="148" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-42" value="服务实例请求路由" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2225" y="1460" width="148" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-43" value="服务实例本机跨进程通信" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2242" y="1550" width="148" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-44" value="服务实例跨机器通信" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2225" y="1630" width="148" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-45" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=8 8;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2230" y="1260" width="615" height="450" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-46" value="每台机器都需要配一个tbuspp_agent进程，同机器内跨进程通信都使用共享内存" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2230" y="1740" width="545" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-50" value="业务逻辑" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1550" y="1980" width="79" height="90" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-51" value="网络线程" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1392" y="1980" width="71" height="90" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-52" value="tbuspp组件&lt;div&gt;tbuspp_client&lt;/div&gt;&lt;div&gt;tbuspp_endpoint&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1321" y="1980" width="91" height="90" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-53" value="输出队列 --&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1230" y="1980" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-54" value="&lt;div&gt;发送消息&lt;/div&gt;输出队列 --&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1471" y="1980" width="79" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-55" value="&lt;div&gt;接收消息&lt;/div&gt;&amp;lt;-- 输入队列" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1471" y="2030" width="79" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-56" value="&amp;lt;-- 输出队列" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1230" y="2030" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-57" value="tbuspp_agent" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1110" y="1940" width="170" height="160" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-58" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1550" y="1940" width="440" height="160" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-59" value="game_svr" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-1350" y="1940" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-60" value="&lt;div&gt;进程A&lt;/div&gt;tbuspp_endpoint&lt;br&gt;&lt;div&gt;输出队列&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1520" y="2230" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-62" value="&lt;div&gt;进程A&lt;/div&gt;tbuspp_endpoint&lt;br&gt;输入队列" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1120" y="2230" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-63" value="&lt;div&gt;进程B&lt;/div&gt;tbuspp_endpoint&lt;br&gt;输出队列" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1520" y="2323" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-64" value="&lt;div&gt;进程C&lt;/div&gt;tbuspp_endpoint&lt;br&gt;输出队列" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1520" y="2415" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-65" value="&lt;div&gt;进程B&lt;/div&gt;tbuspp_endpoint&lt;br&gt;输入队列" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1120" y="2322.5" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-66" value="&lt;div&gt;进程C&lt;/div&gt;tbuspp_endpoint&lt;br&gt;输入队列" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1120" y="2410" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-67" value="A-&amp;gt;B的tx_queue" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1380" y="2235" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-68" value="A-&amp;gt;C的tx_queue" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1380" y="2275" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-69" value="B-&amp;gt;A的tx_queue" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1380" y="2315" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-70" value="B-&amp;gt;C的tx_queue" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1380" y="2355" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-71" value="C-&amp;gt;A的tx_queue" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1380" y="2395" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-72" value="C-&amp;gt;B的tx_queue" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1380" y="2435" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-73" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1385" y="2200" as="sourcePoint" />
            <mxPoint x="-1145" y="2200" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-1285" y="2200" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-74" value="无锁单向环形缓冲区" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-1340" y="2170" width="125" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-75" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1550" y="2150" width="570" height="400" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-76" value="tbuspp_agent本机转发消息" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-1550" y="2155" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-77" value="tx_queue 用于性能隔离，可以解决不同进程输出和输入队列的消息速度不匹配的问题" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-1379" y="2490" width="269" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-78" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-760" y="2150" width="190" height="400" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-79" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-950" y="2350" as="sourcePoint" />
            <mxPoint x="-780" y="2350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-81" value="TCP连接" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-900" y="2315" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-82" value="&lt;div&gt;进程X&lt;/div&gt;tbuspp_endpoint&lt;br&gt;输入队列" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-720" y="2230" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-83" value="&lt;div&gt;进程Y&lt;/div&gt;tbuspp_endpoint&lt;br&gt;输入队列" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-720" y="2322.5" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-84" value="&lt;div&gt;进程Z&lt;/div&gt;tbuspp_endpoint&lt;br&gt;输入队列" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-720" y="2410" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-85" value="远程发送的消息不需要再使用tx_queue了，因为发送端，已经是从tx_queue来了" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-950" y="2410" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-86" value="远程的tbuspp_agent" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-740" y="2155" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-87" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1590" y="1890" width="1060" height="690" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-88" value="tbuspp_agent 通信机制" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-740" y="1925" width="160" height="95" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-89" value="目标节点&lt;br&gt;唯一标识&lt;div&gt;K&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1577" y="1261" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-90" value="虚拟节点1&lt;br&gt;唯一标识&lt;br&gt;K1" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1410" y="1147" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-94" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1500" y="1285.71" as="sourcePoint" />
            <mxPoint x="-1420" y="1285.71" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-95" value="扩展映射" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-1500" y="1237" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-96" value="..." style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1410" y="1387" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-97" value="虚拟节点4&lt;br&gt;唯一标识&lt;br&gt;K4" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1410" y="1327" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-98" value="虚拟节点3&lt;br&gt;唯一标识&lt;br&gt;K3" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1410" y="1267" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-99" value="虚拟节点2&lt;br&gt;唯一标识&lt;br&gt;K2" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1410" y="1207" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-100" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1320" y="1286.71" as="sourcePoint" />
            <mxPoint x="-1240" y="1286.71" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-101" value="标识取hash" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-1320" y="1237" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-102" value="hash(K1)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1230" y="1147" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-103" value="..." style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1230" y="1387" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-104" value="hash(K4)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1230" y="1327" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-105" value="hash(K3)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1230" y="1267" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-106" value="hash(K2)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1230" y="1207" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-107" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1007" y="1267" width="317" height="36" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-108" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1007" y="1267" width="47" height="36" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-109" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-960" y="1267" width="47" height="36" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-110" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-913" y="1267" width="47" height="36" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-111" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-866" y="1267" width="47" height="36" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-112" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-819" y="1267" width="47" height="36" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-113" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-772" y="1267" width="47" height="36" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-114" value="有序数组，按照插入的hash值排序" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-1007" y="1303" width="187" height="24" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-115" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1135" y="1285.71" as="sourcePoint" />
            <mxPoint x="-1020" y="1287" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-116" value="hash值插入有序数组" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-1140" y="1237" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-117" value="每个数组元素包含了hash值，目标节点信息等" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-949.5" y="1117" width="109.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-118" value="" style="curved=1;endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="HayRyLH1Y7qyleInHtEZ-117" target="HayRyLH1Y7qyleInHtEZ-110" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-740" y="1197" as="sourcePoint" />
            <mxPoint x="-690" y="1147" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-880" y="1217" />
              <mxPoint x="-880" y="1227" />
              <mxPoint x="-889" y="1237" />
              <mxPoint x="-920" y="1237" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-119" value="源节点&lt;br&gt;唯一标识&lt;br&gt;S" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1577" y="1547" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-120" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1497" y="1571.71" as="sourcePoint" />
            <mxPoint x="-1417" y="1571.71" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-121" value="标识取hash" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-1492" y="1527" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-122" value="hash(S)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1397" y="1547" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-123" value="" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="HayRyLH1Y7qyleInHtEZ-122" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1310" y="1587" as="sourcePoint" />
            <mxPoint x="-870" y="1337" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-1020" y="1557" />
              <mxPoint x="-940" y="1537" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-124" value="二分查找hash(S)在有序数组中右边的最靠近的成员，即目标节点" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-1027.5" y="1477" width="370" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-127" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1590" y="1107" width="940" height="730" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-128" value="一致性hash原理：和hash表没关系，是利用的hash函数+有序数组" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-1590" y="1107" width="370" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-133" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-130" target="HayRyLH1Y7qyleInHtEZ-132" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-135" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-130" target="HayRyLH1Y7qyleInHtEZ-134" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-130" value="动态扩缩容" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1590" y="1697" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-137" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-132" target="HayRyLH1Y7qyleInHtEZ-136" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-132" value="动态扩容" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1390" y="1657" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-141" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-134" target="HayRyLH1Y7qyleInHtEZ-140" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-134" value="动态缩容" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1390" y="1737" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-139" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-136" target="HayRyLH1Y7qyleInHtEZ-138" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-136" value="将新虚拟节点N hash值 插入有序数组" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1190" y="1657" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-138" value="将插入位置右边成员对应的目标节点已经连接的状态都转移到成员N的目标节点中" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-990" y="1657" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-143" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HayRyLH1Y7qyleInHtEZ-140" target="HayRyLH1Y7qyleInHtEZ-142" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-140" value="删除之前插入有序数组中的虚拟节点的hash值" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1190" y="1737" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HayRyLH1Y7qyleInHtEZ-142" value="将待删除的虚拟节点已经连接的状态都转移到左边的成员对应的目标节点中" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-990" y="1737" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-1" value="tbuspp_agent" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-661.9400000000003" y="2851.9984495174317" width="120" height="170" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-2" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-415.9400000000003" y="2961.9984495174317" width="136" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-3" value="tbuspp_client" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-415.9400000000003" y="2961.9984495174317" width="74.97" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-4" value="进程A" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-340.97" y="2961.9984495174317" width="61.03" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-5" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;entryX=1.002;entryY=0.625;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="VPPfcYjJvy9DPPlter4A-3" target="VPPfcYjJvy9DPPlter4A-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-451.9400000000003" y="2991.9984495174317" as="sourcePoint" />
            <mxPoint x="-421.9400000000003" y="3081.9984495174317" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-6" value="基于共享内存&lt;br&gt;的消息队列" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VPPfcYjJvy9DPPlter4A-5" vertex="1" connectable="0">
          <mxGeometry x="0.0319" relative="1" as="geometry">
            <mxPoint x="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-7" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-662.9400000000003" y="2801.9984495174317" width="391.97" height="240" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-8" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-415.9400000000003" y="2851.9984495174317" width="136" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-9" value="tbuspp_client" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-415.9400000000003" y="2851.9984495174317" width="74.97" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-10" value="进程B" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-340.97" y="2851.9984495174317" width="61.03" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-11" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;entryX=1.002;entryY=0.356;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.03;exitY=0.606;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="VPPfcYjJvy9DPPlter4A-9" target="VPPfcYjJvy9DPPlter4A-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-305.9400000000003" y="3015.9984495174317" as="sourcePoint" />
            <mxPoint x="-431.9400000000003" y="2971.9984495174317" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-12" value="基于共享内存&lt;br&gt;的消息队列" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VPPfcYjJvy9DPPlter4A-11" vertex="1" connectable="0">
          <mxGeometry x="0.0319" relative="1" as="geometry">
            <mxPoint x="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-13" value="同机器进程" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-512.9400000000003" y="2811.9984495174317" width="81" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-14" value="tbuspp_agent" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1590.97" y="2849.9684495174315" width="120" height="170" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-15" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1344.97" y="2959.9684495174315" width="136" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-16" value="tbuspp_client" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1344.97" y="2959.9684495174315" width="74" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-17" value="进程A" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1270.97" y="2959.9684495174315" width="62" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-18" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;entryX=1.002;entryY=0.625;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="VPPfcYjJvy9DPPlter4A-16" target="VPPfcYjJvy9DPPlter4A-14" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1380.97" y="2989.9684495174315" as="sourcePoint" />
            <mxPoint x="-1350.97" y="3079.9684495174315" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-19" value="基于共享内存&lt;br&gt;的消息队列" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VPPfcYjJvy9DPPlter4A-18" vertex="1" connectable="0">
          <mxGeometry x="0.0319" relative="1" as="geometry">
            <mxPoint x="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-20" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1591.97" y="2799.9684495174315" width="411" height="240" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-21" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1344.97" y="2849.9684495174315" width="136" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-22" value="tbuspp_client" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1344.97" y="2849.9684495174315" width="74" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-23" value="进程B" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1270.97" y="2849.9684495174315" width="62" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-24" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;entryX=1.002;entryY=0.356;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.03;exitY=0.606;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="VPPfcYjJvy9DPPlter4A-22" target="VPPfcYjJvy9DPPlter4A-14" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1234.97" y="3013.9684495174315" as="sourcePoint" />
            <mxPoint x="-1360.97" y="2969.9684495174315" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-25" value="基于共享内存&lt;br&gt;的消息队列" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VPPfcYjJvy9DPPlter4A-24" vertex="1" connectable="0">
          <mxGeometry x="0.0319" relative="1" as="geometry">
            <mxPoint x="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-26" value="同机器进程" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-1441.97" y="2809.9684495174315" width="81" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-27" value="tbuspp_ns" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-971.97" y="2879.9984495174317" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-28" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;edgeStyle=orthogonalEdgeStyle;curved=1;" parent="1" source="VPPfcYjJvy9DPPlter4A-20" target="VPPfcYjJvy9DPPlter4A-27" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1460.97" y="3149.9984495174317" as="sourcePoint" />
            <mxPoint x="-1410.97" y="3099.9984495174317" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-1601.97" y="2919.9984495174317" />
              <mxPoint x="-1601.97" y="3089.9984495174317" />
              <mxPoint x="-1080.97" y="3089.9984495174317" />
              <mxPoint x="-1080.97" y="2909.9984495174317" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-29" value="TCP连接" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VPPfcYjJvy9DPPlter4A-28" vertex="1" connectable="0">
          <mxGeometry x="0.2553" y="-5" relative="1" as="geometry">
            <mxPoint x="-148" y="4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-30" value="" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="VPPfcYjJvy9DPPlter4A-7" target="VPPfcYjJvy9DPPlter4A-27" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-920.97" y="3129.9984495174317" as="sourcePoint" />
            <mxPoint x="-870.97" y="3079.9984495174317" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-870.97" y="3129.9984495174317" />
              <mxPoint x="-750.97" y="2939.9984495174317" />
              <mxPoint x="-920.97" y="3079.9984495174317" />
              <mxPoint x="-900.97" y="3029.9984495174317" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-31" value="TCP连接" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VPPfcYjJvy9DPPlter4A-30" vertex="1" connectable="0">
          <mxGeometry x="0.0674" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-32" value="TCP" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1" vertex="1" connectable="0">
          <mxGeometry x="-949.9407027492698" y="2600" as="geometry" />
        </mxCell>
        <mxCell id="VPPfcYjJvy9DPPlter4A-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.535;entryY=-0.004;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="VPPfcYjJvy9DPPlter4A-20" target="VPPfcYjJvy9DPPlter4A-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1385.97" y="2680" />
              <mxPoint x="-452.97" y="2680" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-124" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-1" target="0DlNR2DuPFBUaRmSfoXK-119" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-126" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-1" target="0DlNR2DuPFBUaRmSfoXK-125" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-1" value="客户端" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1186" y="2053.5" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-3" value="UNetDriver&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2801" y="2099.5" width="135" height="95" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-7" value="UNetConnection&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2447" y="2031" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-10" value="..." style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2447" y="2201" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-13" value="UNetConnection&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2447" y="2121" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-16" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;rotation=-180;" parent="1" vertex="1">
          <mxGeometry x="2570" y="2063" width="50" height="170" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-17" value="每个客户端连接生成一个UNetConnection，&lt;br&gt;UNetDriver管理所有的UNetConnection" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2800" y="2054" width="235" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-18" value="socket" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2467" y="2058" width="85" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-19" value="socket" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2467" y="2148" width="85" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-21" value="epoll&lt;br&gt;监听所有的UetConnection" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2806" y="2144.5" width="125" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-23" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2625" y="2148" as="sourcePoint" />
            <mxPoint x="2795" y="2148" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-24" value="加密、解密、拥塞控制" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2433" y="2001" width="148" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-25" value="UNetConnection" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2694" y="2540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-26" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;rotation=-180;" parent="1" vertex="1">
          <mxGeometry x="2633" y="2520" width="50" height="100" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-27" value="UChannel（ChIndex=0)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2499" y="2500" width="120" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-28" value="UChannel&lt;br&gt;(ChIndex=1)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2499" y="2549" width="120" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-29" value="..." style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2499" y="2600" width="120" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-31" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2862" y="2213" as="sourcePoint" />
            <mxPoint x="2862" y="2483" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-32" value="取出原始网络包交给再次交给UNetConnection处理" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2872" y="2293" width="166" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-33" value="UNetConnection根据网络包头，解析和拆分数据包为一个个bunch，塞到对应的channel中" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2671" y="2506" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-34" value="客户端" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2095" y="2106" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-35" value="..." style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2095" y="2191.5" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-94" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-39" target="0DlNR2DuPFBUaRmSfoXK-93" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-39" value="每个channe负责维护自身可靠UDP和不可靠UDP" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2225.5" y="2487" width="140" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-41" value="维护属性复制&lt;br&gt;属性反序列化" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2225.5" y="2536" width="141" height="35" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-42" value="维护RPC&lt;br&gt;函数索引和参数反序列化" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2225.5" y="2577" width="140" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-44" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_2;align=left;labelPosition=right;pointerEvents=1;rotation=-180;" parent="1" vertex="1">
          <mxGeometry x="2372.5" y="2463" width="50" height="131" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-45" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2495" y="2527" as="sourcePoint" />
            <mxPoint x="2425" y="2527" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-144" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-85" target="0DlNR2DuPFBUaRmSfoXK-140" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-85" value="混合打包成UDP报文" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1915" y="2038" width="120" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-88" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="2215" y="2061" as="sourcePoint" />
            <mxPoint x="2435" y="2061" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-89" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="2216" y="2145.57" as="sourcePoint" />
            <mxPoint x="2436" y="2145.57" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-90" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="2215" y="2233" as="sourcePoint" />
            <mxPoint x="2435" y="2233" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-91" value="UDP无连接；&lt;br&gt;客户端服务器互相发UDP包，全双工" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2218" y="2091" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-92" value="每个channel&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;分别维护&lt;br&gt;读和写缓冲区&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2225.5" y="2438" width="140" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-96" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-93" target="0DlNR2DuPFBUaRmSfoXK-95" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-98" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-93" target="0DlNR2DuPFBUaRmSfoXK-97" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-93" value="可靠bunch和不可靠bunch放在一个channel里面，依靠bunch头信息区分处理" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2050.5" y="2487" width="140" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-100" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-95" target="0DlNR2DuPFBUaRmSfoXK-99" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1806" y="2507.999999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-95" value="可靠bunch排序，&lt;br&gt;做可靠性处理，&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;如果存在丢包，会等待重传&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1856" y="2445" width="140" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-101" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-97" target="0DlNR2DuPFBUaRmSfoXK-99" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1806" y="2508" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-97" value="不可靠bunch直接处理" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1856" y="2529" width="140" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-103" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-99" target="0DlNR2DuPFBUaRmSfoXK-102" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-105" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-99" target="0DlNR2DuPFBUaRmSfoXK-104" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-99" value="ReceivedBunch&lt;br&gt;处理bunch" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1665" y="2487" width="140" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-107" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-102" target="0DlNR2DuPFBUaRmSfoXK-106" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-102" value="解析属性同步数据" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1470" y="2446" width="140" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-109" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-104" target="0DlNR2DuPFBUaRmSfoXK-108" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-104" value="解析RPC数据" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1469" y="2529" width="140" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-111" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-106" target="0DlNR2DuPFBUaRmSfoXK-110" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-106" value="更新本地属性" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1304" y="2446" width="140" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-108" value="执行本地函数" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1304" y="2529" width="140" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-110" value="调用属性同步回调&lt;br&gt;ReplicatedUsing" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1144" y="2446" width="140" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-112" value="DS每帧尽量一次性取出所有socket中的数据（受硬件和配置影响）" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2600" y="2169.5" width="195" height="25" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-114" value="UChannel收到数据后会立刻处理" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2501" y="2458" width="116" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-115" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="1125" y="2403" width="530" height="100" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-116" value="&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;只有客户端会有这一步，属性同步只能从服务器到客户端&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1139" y="2403" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-121" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-119" target="0DlNR2DuPFBUaRmSfoXK-120" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-119" value="RPC" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1392" y="2038" width="120" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-123" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-120" target="0DlNR2DuPFBUaRmSfoXK-122" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-120" value="元数据塞入bunch" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1572" y="2038" width="120" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-134" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-122" target="0DlNR2DuPFBUaRmSfoXK-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-122" value="&lt;font&gt;塞进UChannel&lt;/font&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1752" y="2038" width="120" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-128" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-125" target="0DlNR2DuPFBUaRmSfoXK-127" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-125" value="ACTOR修改时&lt;br&gt;属性同步" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1392" y="2105.5" width="120" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-130" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-127" target="0DlNR2DuPFBUaRmSfoXK-129" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-127" value="设置脏标记" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1537" y="2105.5" width="86" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-132" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-129" target="0DlNR2DuPFBUaRmSfoXK-122" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1712.9999999999995" y="2126.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-129" value="对应成员和值塞进bunch" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1653" y="2105.5" width="80" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-135" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="1365" y="2093" width="390" height="89.5" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-136" value="&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;只有服务器才能主动属性同步&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1480" y="2152.5" width="168" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-137" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1380" y="2383" as="sourcePoint" />
            <mxPoint x="1430" y="2333" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-138" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1572" y="2201" as="sourcePoint" />
            <mxPoint x="1502" y="2241" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-139" value="这里是为了&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;简化&lt;/font&gt;双向通信过程，&lt;br&gt;实际上，属性同步的发送方只能是服务器，接受方只能是客户端。&lt;br&gt;RPC的发送方和接受发同时可以客户端和服务器" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1316" y="2271.5" width="386" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-140" value="UNetConnection&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2084" y="2029" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-141" value="socket" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2104" y="2056" width="85" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-142" value="加密、解密、拥塞控制" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2067" y="1994" width="148" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-145" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2325" y="2003" as="sourcePoint" />
            <mxPoint x="2315" y="2053" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-146" value="客户端和服务器都拥有UNetDriver，区别在于，服务器通过epoll管理多个客户端连接，但是客户端只能同时连接一个服务器" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2218" y="1953" width="232" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-147" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1085" y="1913" width="1990" height="740" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-152" value="输入缓冲区" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1096" y="2783" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-153" value="输出缓冲区" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1096" y="2813" width="120" height="32" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-154" value="TCP状态机" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1225" y="2765" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-156" value="文件描述符等" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1096" y="2735" width="120" height="48" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-157" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1085" y="2705" width="400" height="148" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-158" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;所谓socket&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1210" y="2702.97" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-159" value="连接四元组&lt;br&gt;本地ip、port&lt;br&gt;对端 ip、port" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1345" y="2765" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-161" value="所有可靠性状态&lt;br&gt;如序列号、窗口大小" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1225" y="2795" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-162" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1216" y="2735" width="259" height="110" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-163" value="&quot;连接&quot;数据" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1316" y="2735" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-166" value="event_poll&lt;br&gt;初始化红黑树&lt;br&gt;初始化就绪链表&lt;br&gt;初始化阻塞进程等待队列" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1545" y="2828" width="135" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-173" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-167" target="0DlNR2DuPFBUaRmSfoXK-172" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-167" value="创建一个epitem&lt;br&gt;红黑树节点&lt;br&gt;就绪链表节点&lt;br&gt;用户监听的事件&lt;br&gt;fd相关信息" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1716" y="2830" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-169" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-168" target="0DlNR2DuPFBUaRmSfoXK-166" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-168" value="int epfd = epoll_create()" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1547.5" y="2785" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-171" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-170" target="0DlNR2DuPFBUaRmSfoXK-167" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-170" value="epoll_ctl()" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1711" y="2785" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-172" value="加入event_poll的红黑树，注册就绪回调函数" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1713" y="2932" width="126" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-178" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-174" target="0DlNR2DuPFBUaRmSfoXK-177" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-174" value="某个fd有事件产生" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1895" y="2795" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-180" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-177" target="0DlNR2DuPFBUaRmSfoXK-179" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-177" value="触发回调" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1895" y="2835" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-179" value="将对应的epitem，将其中的就绪链表节点添加到就绪链表" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1895" y="2885" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-181" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1610" y="2962.5" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-182" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1570" y="3002.5" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-186" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1651" y="3002.5" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-189" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-181" target="0DlNR2DuPFBUaRmSfoXK-182" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1609.9989321880837" y="3012.5010678119156" as="sourcePoint" />
            <mxPoint x="1567.07" y="2975.43" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-190" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.981;exitY=0.798;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-181" target="0DlNR2DuPFBUaRmSfoXK-186" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1640" y="3002.5" as="sourcePoint" />
            <mxPoint x="1690" y="2952.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-191" value="红黑树" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1590" y="2932.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-195" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-193" target="0DlNR2DuPFBUaRmSfoXK-194" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-193" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1572" y="3062.5" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-198" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-194" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1671" y="3072.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-194" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1621" y="3062.5" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-196" value="就绪链表" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1591" y="3032.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-242" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-201" target="0DlNR2DuPFBUaRmSfoXK-241" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-201" value="RPC" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2572" y="2738.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-205" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-203" target="0DlNR2DuPFBUaRmSfoXK-174" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-203" value="硬件中断" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1895" y="2745" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-208" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-207" target="0DlNR2DuPFBUaRmSfoXK-170" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-207" value="添加监控的fd" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1711" y="2745" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-210" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-209" target="0DlNR2DuPFBUaRmSfoXK-168" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-209" value="创建epoll" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1548" y="2745" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-214" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-211" target="0DlNR2DuPFBUaRmSfoXK-213" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-211" value="LT 水平触发模式" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2078.5" y="2832.5" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-225" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-212" target="0DlNR2DuPFBUaRmSfoXK-224" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-212" value="ET 边沿触发" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2330" y="2830" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-231" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-213" target="0DlNR2DuPFBUaRmSfoXK-230" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-235" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-213" target="0DlNR2DuPFBUaRmSfoXK-216" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-213" value="epoll_wait 将内核就绪链表数据拷贝到event用户空间" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2061" y="2895" width="155" height="35" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-216" value="遍历event，使用read读取fd的数据" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2156" y="2972.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-237" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-224" target="0DlNR2DuPFBUaRmSfoXK-228" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-224" value="epoll_wait将内核就绪链表数据拷贝到event用户空间，然后将数据从内核就绪链表移除" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2330" y="2880" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-228" value="遍历event，使用read读取fd的数据" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2330" y="3020" width="120" height="25" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-233" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-230" target="0DlNR2DuPFBUaRmSfoXK-232" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-230" value="epoll_wait 判断如果fd中没有数据了" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2001" y="2972.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-232" value="将fd移除就绪链表" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2001" y="3032.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-238" value="区别在于：LT，会在epoll_wait中检查fd对应的缓冲区内还有没有数据，没有才会从就绪链表中移除，ET则是在epoll_wait中直接移除" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2166" y="2742.5" width="189" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-239" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1530" y="2705" width="969" height="390" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-240" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;epoll的底层原理&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1940" y="2705" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-244" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-241" target="0DlNR2DuPFBUaRmSfoXK-243" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-241" value="本质逻辑是发送函数名和参数" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2572" y="2828.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-246" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-243" target="0DlNR2DuPFBUaRmSfoXK-245" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-243" value="接收方需要预注册所有函数名到函数地址的映射" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2572" y="2919.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-245" value="接收方收到RPC请求后，解析出函数名，找到映射的函数地址" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2572" y="3011.25" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-247" value="本质是因为运行时，函数名已经被替换为地址，所以无法识别函数名，只能识别函数地址" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2725" y="2922" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-248" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2535" y="2705" width="370" height="388" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-249" value="TCP连接" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1085" y="2865" width="240" height="30.5" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-250" value="服务器要两个socket:&lt;br&gt;一个监听socket&lt;br&gt;一个连接socket" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1085" y="2895.5" width="120" height="70.5" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-251" value="客户端要一个socket:&lt;br&gt;&lt;br&gt;一个连接socket" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1205" y="2895.5" width="120" height="70.5" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-252" value="UDP" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1085" y="2965.5" width="240" height="30.5" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-253" value="服务器要一个socket:&lt;br&gt;一个收发socket" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1085" y="2996.5" width="120" height="66" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-254" value="客户端要一个socket:&lt;br&gt;一个收发socket" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1205" y="2996.5" width="120" height="66" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-255" value="TCP中，监听socket只能单向接收；连接socket是双工通信。&lt;br&gt;UDP中，收发socket是双工通信。" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1345" y="2865" width="140" height="198" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-256" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;RPC：服务器和客户端可以双向发送&lt;br&gt;属性同步：只能服务器到客户端&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1085" y="1964" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-257" value="每个需要同步的ACTOR对象，分配一个ActorChannel" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1692" y="1943" width="153" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-258" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-257" target="0DlNR2DuPFBUaRmSfoXK-122" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1855" y="2013" as="sourcePoint" />
            <mxPoint x="1905" y="1963" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-259" value="每个需要同步的ACTOR对象，分配一个ActorChannel" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2600" y="2388" width="153" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-260" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-259" target="0DlNR2DuPFBUaRmSfoXK-27" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2675" y="2503" as="sourcePoint" />
            <mxPoint x="2725" y="2453" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-261" value="不可靠bunch和可靠bunch，在同一个channel分两个队列处理" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1755" y="2363" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-262" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-261" target="0DlNR2DuPFBUaRmSfoXK-95" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1965" y="2433" as="sourcePoint" />
            <mxPoint x="2015" y="2383" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0DlNR2DuPFBUaRmSfoXK-263" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="1" source="0DlNR2DuPFBUaRmSfoXK-261" target="0DlNR2DuPFBUaRmSfoXK-97" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1725" y="2473" as="sourcePoint" />
            <mxPoint x="1775" y="2423" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-1" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;双方各自维护自身状态机&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-160.97" y="325" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-2" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;双方各自维护自身状态机&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="690" y="325" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-3" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-20" y="330" as="sourcePoint" />
            <mxPoint x="40" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-4" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;endWidth=23.529411764705884;endSize=9.15294117647059;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-30" y="400" as="sourcePoint" />
            <mxPoint x="50" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-5" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="665" y="330" as="sourcePoint" />
            <mxPoint x="590" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-6" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="680" y="400" as="sourcePoint" />
            <mxPoint x="600" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-15" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="130" y="733" as="sourcePoint" />
            <mxPoint x="130" y="812" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-16" value="&lt;font style=&quot;font-size: 18px; color: rgb(255, 0, 0);&quot;&gt;TIME_WAIT&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NcT97teQHjwlcTP3dzW2-15" vertex="1" connectable="0">
          <mxGeometry x="-0.1879" y="2" relative="1" as="geometry">
            <mxPoint x="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-24" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="FPOfLXPbV75VCjuFyTgK-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="130" y="60" as="sourcePoint" />
            <mxPoint x="170" y="50" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-26" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;CLOSE&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NcT97teQHjwlcTP3dzW2-24" vertex="1" connectable="0">
          <mxGeometry x="-0.1344" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-27" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="FPOfLXPbV75VCjuFyTgK-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="490" y="60" as="sourcePoint" />
            <mxPoint x="550" y="50" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-28" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;LISTEN&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NcT97teQHjwlcTP3dzW2-27" vertex="1" connectable="0">
          <mxGeometry x="-0.2363" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-33" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;主动发起方&lt;/font&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="70" y="25" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-34" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;被动发起方&lt;/font&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="430" y="27" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-37" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="320" y="160" width="74" height="50" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-38" value="" style="curved=1;endArrow=classic;html=1;rounded=0;entryX=0.419;entryY=1.073;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="FPOfLXPbV75VCjuFyTgK-14" target="NcT97teQHjwlcTP3dzW2-37" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="360" as="sourcePoint" />
            <mxPoint x="350" y="310" as="targetPoint" />
            <Array as="points">
              <mxPoint x="350" y="360" />
              <mxPoint x="300" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-39" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;主动发起方&lt;/font&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="70" y="382" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-40" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;被动发起方&lt;/font&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="430" y="382" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="NcT97teQHjwlcTP3dzW2-42" target="NcT97teQHjwlcTP3dzW2-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-50" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="NcT97teQHjwlcTP3dzW2-42" target="NcT97teQHjwlcTP3dzW2-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-42" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;TIME_WAIT是主动关闭一方独有，&lt;br&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;此阶段是锁定了本次连接的四元组&lt;/font&gt;&lt;br&gt;首先是用于保证最后一个SEND ACK的可靠性传输，比如发完ACK就关闭的话，如果出现丢包就无法重传&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-260" y="730" width="310" height="120" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="NcT97teQHjwlcTP3dzW2-43" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="130.00000000000045" y="920" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-52" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;CLOSE&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NcT97teQHjwlcTP3dzW2-51" vertex="1" connectable="0">
          <mxGeometry x="0.1269" y="2" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-43" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;等待2*MSL秒&lt;br&gt;&lt;/font&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="75" y="812" width="110" height="28" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-47" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="NcT97teQHjwlcTP3dzW2-44" target="NcT97teQHjwlcTP3dzW2-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-44" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;其次，用于处理互联网可能存在的幽灵包，防止在下次TCP连接中收到。&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-260" y="871" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-46" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;IP报文会携带TTL参数，每经过一个路由减一，为0时，路由器直接丢弃，避免IP包在互联网时间过长&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-260" y="955" width="310" height="80" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-48" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;为什么被动方不需要TIME_WAIT&lt;br&gt;防止幽灵包，因为只需要一方来防止就行了;其次，被动方往往是服务器，服务器采用固定端口，需要和大量客户端连接，如果每个连接断开都进入TIME_WAIT锁定当前连接的四元组，会消耗过多资源&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="551.5" y="738.5" width="337" height="140" as="geometry" />
        </mxCell>
        <mxCell id="NcT97teQHjwlcTP3dzW2-49" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;主动发可以换个端口发起连接，可以避免TIME_WAIT阶段的持续等待&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-260" y="655" width="310" height="50" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-1" target="XjUebr9xF_pN6PqK57L8-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-1" value="对称加密：&lt;br&gt;优点：速度快&lt;br&gt;缺点：密钥不能公开" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1536" y="3212.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-2" target="XjUebr9xF_pN6PqK57L8-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-2" value="非对称加密：&lt;br&gt;缺点：速度慢&lt;br&gt;优点：公钥可以公开" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1225.47" y="3212.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-3" value="典型用处：&lt;br&gt;大规模密文消息加解密，&lt;br&gt;例如视频加解密" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1536" y="3302.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-5" target="XjUebr9xF_pN6PqK57L8-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-5" target="XjUebr9xF_pN6PqK57L8-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-5" value="典型用处：&lt;br&gt;签名/验证；&lt;br&gt;小规模加密传输，例如传递密钥" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1225.47" y="3302.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-7" target="XjUebr9xF_pN6PqK57L8-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-7" value="签名/验证" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1354.5" y="3382.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-10" target="XjUebr9xF_pN6PqK57L8-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-10" value="加密传输" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1064.5" y="3382.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-12" target="XjUebr9xF_pN6PqK57L8-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-12" value="私钥加密；&lt;br&gt;公钥解密；" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1354.5" y="3482.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-14" target="XjUebr9xF_pN6PqK57L8-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-14" value="公钥加密；&lt;br&gt;私钥解密；" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1064.5" y="3482.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-16" target="XjUebr9xF_pN6PqK57L8-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-16" value="因为公钥是公开的，如果私钥加密，那相当于没加密..." style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1064.5" y="3572.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-18" value="因为私钥是私密的，如果公钥加密，那就随便伪造签名了..." style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1354.5" y="3572.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-20" value="加密通信的双方互相持有对方的公钥" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1064.5" y="3662.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-22" target="XjUebr9xF_pN6PqK57L8-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-22" value="身份信息&lt;br&gt;权限信息" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-600.46" y="3350" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-23" value="signature" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-480.46000000000004" y="3350" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-24" target="XjUebr9xF_pN6PqK57L8-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-24" value="hash" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="-577.21" y="3270" width="73.25" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-26" target="XjUebr9xF_pN6PqK57L8-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-26" value="私钥加密" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="-454.96000000000004" y="3270" width="67.25" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-29" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-643.46" y="3240" width="325" height="180" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-30" value="玩家登录&lt;br&gt;token" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-643.46" y="3240" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-31" value="私钥加密的signature，无法被仿造" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="-296.46000000000004" y="3380" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-32" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-481.1500000000001" y="3440" as="sourcePoint" />
            <mxPoint x="-481.1500000000001" y="3490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-34" target="XjUebr9xF_pN6PqK57L8-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-34" value="身份信息&lt;br&gt;权限信息" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-600.46" y="3620" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-35" target="XjUebr9xF_pN6PqK57L8-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-35" value="signature" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-480.46000000000004" y="3620" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-44" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-37" target="XjUebr9xF_pN6PqK57L8-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-37" value="hash" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="-626.71" y="3540" width="73.25" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-39" target="XjUebr9xF_pN6PqK57L8-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-39" value="公钥解密" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="-404.0799999999999" y="3540" width="67.25" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-40" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-643.46" y="3500" width="325" height="190" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-41" value="验证签名" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-643.46" y="3500" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-43" value="验证签名" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="-503.46000000000004" y="3540" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-48" value="身份信息&lt;br&gt;权限信息" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-600.46" y="3900" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-50" value="signature" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-480.46000000000004" y="3900" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-55" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-643.46" y="3780" width="325" height="190" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-56" value="验证业务" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-643.46" y="3780" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-58" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-480.46000000000004" y="3710" as="sourcePoint" />
            <mxPoint x="-480.46000000000004" y="3760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-60" value="读取明文，验证" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-540.46" y="3800" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.544;entryY=1.022;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="XjUebr9xF_pN6PqK57L8-48" target="XjUebr9xF_pN6PqK57L8-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-63" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-693.46" y="3220" width="630" height="780" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-64" value="token验证原理" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-230.96000000000004" y="3275" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-65" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1570" y="3189" width="660" height="571" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-66" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="208.2" y="2084" width="384.96" height="47" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-67" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="208.2" y="2084" width="44.96" height="47" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-68" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="253.15999999999997" y="2084" width="50" height="47" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-69" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="302.7" y="2084" width="44.96" height="47" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-70" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="347.65999999999997" y="2084" width="50" height="47" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-71" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="397.65999999999997" y="2084" width="44.96" height="47" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-72" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="442.61999999999995" y="2084" width="50" height="47" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-73" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="492.16" y="2084" width="44.96" height="47" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-74" target="XjUebr9xF_pN6PqK57L8-77" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-74" value="front" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="537.1199999999999" y="2084" width="56.04" height="47" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-81" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-77" target="XjUebr9xF_pN6PqK57L8-80" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="XjUebr9xF_pN6PqK57L8-77" target="XjUebr9xF_pN6PqK57L8-88" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="638.2" y="2171" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-77" value="peek" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="537.1600000000001" y="2163" width="56" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-78" value="消息队列放在共享内存中" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="208.2" y="2061" width="160" height="23" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-83" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-80" target="XjUebr9xF_pN6PqK57L8-82" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-93" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-80" target="XjUebr9xF_pN6PqK57L8-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-80" value="handle" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="537.1600000000001" y="2235" width="56" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-82" value="pop" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="537.1600000000001" y="2303" width="56" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-88" value="这里会标记消息正在处理" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="608.2" y="2163" width="140.46" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-89" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="508.2" y="2141" as="sourcePoint" />
            <mxPoint x="508.2" y="2341" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-90" value="共享内存消息队列，支持resume" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="296.26" y="2156" width="194.96" height="25" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-92" value="业务逻辑存在宕机风险" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="608.2" y="2235" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-94" value="这样的设计，可以支持resume重读，不过是否重读还是要看业务需求，比如项目中，在peek时，设置正在处理状态，resume后，就跳过处理阶段，防止重复处理" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="218.2" y="2235" width="270" height="25" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-95" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="198.2" y="2061" width="560" height="320" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-111" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-101" target="XjUebr9xF_pN6PqK57L8-110" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-101" value="TbusppClient::Proc" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="497" y="2510" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-109" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-102" target="XjUebr9xF_pN6PqK57L8-101" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-102" value="BizMsgMgr::NetProcRecv()" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="317" y="2510" width="149" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-108" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-103" target="XjUebr9xF_pN6PqK57L8-102" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-103" value="BizMsgMgr::NetProc" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="177" y="2510" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-104" target="XjUebr9xF_pN6PqK57L8-103" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-104" value="BizMsgMgr::StartNetProc" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-33" y="2510" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-105" target="XjUebr9xF_pN6PqK57L8-104" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-105" value="ns_app_init" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-179.99999999999997" y="2510" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-113" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-110" target="XjUebr9xF_pN6PqK57L8-112" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-110" value="从tbuspp_client中&lt;br&gt;取出字节流。（tbuspp_client使用普通内存）" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="497.5400000000001" y="2605" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-115" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XjUebr9xF_pN6PqK57L8-112" target="XjUebr9xF_pN6PqK57L8-114" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-112" value="打包塞进业务进程的共享内存队列" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="310.54" y="2605" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-114" value="业务循环peek处理数据包" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="137.08" y="2605" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-116" value="tbuspp_agent" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-41" y="2746" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-117" value="tbuspp_client&lt;br&gt;负责字节流打包" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="210.46000000000004" y="2746" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-118" value="业务&lt;br&gt;负责处理消息包" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="460" y="2746" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-119" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="86.94000000000001" y="2775.58" as="sourcePoint" />
            <mxPoint x="206.94" y="2775.58" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-120" value="共享内存&lt;br&gt;字节流" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="115" y="2787" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-121" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="331.5" y="2775.58" as="sourcePoint" />
            <mxPoint x="451.5" y="2775.58" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-122" value="共享内存消息包" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="359.56" y="2787" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-123" value="" style="curved=1;endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="XjUebr9xF_pN6PqK57L8-120" target="XjUebr9xF_pN6PqK57L8-122" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="260" y="2980" as="sourcePoint" />
            <mxPoint x="310" y="2930" as="targetPoint" />
            <Array as="points">
              <mxPoint x="180" y="2890" />
              <mxPoint x="350" y="2890" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-124" value="拷贝过程" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="240.46000000000004" y="2900" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-125" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-197.99999999999997" y="2482" width="828" height="198" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-126" value="网络线程" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-101" y="2615" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-127" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="267.23" y="2739" as="sourcePoint" />
            <mxPoint x="230" y="2690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-128" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-209.99999999999997" y="2445" width="940" height="505" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-129" value="大的逻辑框架" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-179.99999999999997" y="2823.03" width="90" height="24" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-130" value="tbuspp_client打包字节流时，如果宕机，就丢包，反正只有一个包，可以接收" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="25" y="2860" width="152" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-132" value="tbuspp_agent进程，&lt;br&gt;负责监听socket、&lt;br&gt;处理tcp/udp消息以及消息分发" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-178.2" y="2029" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-133" value="tbuspp_client 网络线程" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-178.2" y="2169" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-135" value="业务线程" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-178.2" y="2309" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-137" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="-78.19999999999999" y="2299" as="sourcePoint" />
            <mxPoint x="-78.19999999999999" y="2239" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-138" value="跨线程&lt;br&gt;无锁队列" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-58.2" y="2253.5" width="88.2" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-140" value="gamesvr" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-168.2" y="2254" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-141" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="-78.19999999999999" y="2159" as="sourcePoint" />
            <mxPoint x="-78.19999999999999" y="2099" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-142" value="跨进程&lt;br&gt;无锁队列" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-58.2" y="2112" width="58.2" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-144" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-200" y="2020" width="240" height="360" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-146" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-195" y="2163" width="225" height="217" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-147" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;TCP_NODELAY：TCP socket收到包后立刻提交内核处理，适用于高实时性要求的场景。&lt;br&gt;TCP_QUICKACK：立刻返回ACK（默认延迟40ms），适用于高实时性要求的场景。&lt;br&gt;SO_SNDEBUF/SO_RECBUF：扩大接收/发送缓冲区。&lt;br&gt;TCP_KEEPALIVE：检测死链接（感知客户端掉线）&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-13" y="1142" width="740" height="98" as="geometry" />
        </mxCell>
        <mxCell id="XjUebr9xF_pN6PqK57L8-148" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-400" y="10" width="1600" height="1270" as="geometry" />
        </mxCell>
        <mxCell id="M8tIy-vrh5-bbHLQLFaI-1" value="Socket" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3340" y="2540" width="370" height="94" as="geometry" />
        </mxCell>
        <mxCell id="M8tIy-vrh5-bbHLQLFaI-2" value="NetDriver" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3340" y="2444" width="370" height="94" as="geometry" />
        </mxCell>
        <mxCell id="M8tIy-vrh5-bbHLQLFaI-3" value="NetConnection" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3340" y="2347" width="370" height="94" as="geometry" />
        </mxCell>
        <mxCell id="M8tIy-vrh5-bbHLQLFaI-4" value="ActorChannel" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3340" y="2249.5" width="120" height="94" as="geometry" />
        </mxCell>
        <mxCell id="M8tIy-vrh5-bbHLQLFaI-5" value="ObjectReplicator" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3340" y="2151.5" width="120" height="94" as="geometry" />
        </mxCell>
        <mxCell id="M8tIy-vrh5-bbHLQLFaI-6" value="ControlChannel" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3467" y="2150" width="120" height="190" as="geometry" />
        </mxCell>
        <mxCell id="M8tIy-vrh5-bbHLQLFaI-7" value="VoiceChannel" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3593.5" y="2150" width="120" height="190" as="geometry" />
        </mxCell>
        <mxCell id="M8tIy-vrh5-bbHLQLFaI-8" value="push mode" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3840" y="2150" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
